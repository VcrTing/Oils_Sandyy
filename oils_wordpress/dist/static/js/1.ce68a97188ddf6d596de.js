webpackJsonp([1,30],{"2rio":function(t,e){},"6Z/R":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("gBtx"),i=n.n(r),a=n("mvHQ"),s=n.n(a),o=n("Xxa5"),c=n.n(o),u=n("exGp"),l=n.n(u),d=n("oKCz"),_=n("Um5R"),m={props:{chronu:{type:Object}},name:"",data:function(){return{}},methods:{choiseIt:function(){this.$emit("sign_Father",this.chronu)}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full chronu def-shadow pa-3"},[n("div",{staticClass:"chronu_name"},[n("v-icon",{attrs:{size:"14"}},[t._v("mdi-calendar-multiple")]),t._v(" "+t._s(t.chronu.display_name)+"\n\n        "),n("button",{staticClass:"btn-sec float-right",on:{click:t.choiseIt}},[t._v("確認選擇")])],1),t._v(" "),n("div",{staticClass:"chronu_start sub-header pl-4"},[t._v("\n        開始："+t._s(t.view.ser_timed(t.chronu.start,!0))+"\n    ")]),t._v(" "),n("div",{staticClass:"chronu_end sub-header pl-4"},[t._v("\n        結束："+t._s(t.view.ser_timed(t.chronu.end,!0))+"\n    ")])])},staticRenderFns:[]};var h=n("VU/8")(m,v,!1,function(t){n("rpQk")},"data-v-4a407b5c",null).exports,p={props:{c_item:{type:Object}},computed:{now:function(){return this.$store.state.chronus}},methods:{choiseIt:function(){this.$emit("sign_Father",this.c_item.chronu)}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chronu py-3 pl-7 pr-3"},[n("div",{staticClass:"pb"},[n("span",{staticClass:"qiong-txt-16 txt-txt_x3 fw-b",class:{"txt-sec_son":t.now.id==t.c_item.chronu.id}},[n("v-icon",{attrs:{size:"14",color:"op-60"}},[t._v("mdi-calendar-multiple")]),t._v("  "+t._s(t.c_item.chronu.display_name)+"\n        ")],1),t._v(" "),t.now.id!=t.c_item.chronu.id?n("button",{staticClass:"fw-b py-2 px-5 float-right btn-sec-hov",on:{click:t.choiseIt}},[t._v("確認選擇")]):t._e()]),t._v(" "),n("nav",{staticClass:"pl-6 pt-3 txt-sus"},[n("div",{staticClass:"chronu_start"},[t._v("\n            開始： "+t._s(t.view.ser_timed(t.c_item.chronu.start,!0))+"\n        ")]),t._v(" "),n("div",{staticClass:"chronu_end pt-1"},[t._v("\n            結束： "+t._s(t.view.ser_timed(t.c_item.chronu.end,!0))+"\n        ")])])])},staticRenderFns:[]};var g=n("VU/8")(p,f,!1,function(t){n("Lo9w")},"data-v-28f3d5e6",null).exports,b={components:{QiongGradientLine:n("Sx7q").a},name:"",props:{months:{type:Array}},data:function(){return{year:"",now_month:[],def_m:[1,2,3,4,5,6,7,8,9,10,11,12],active_id:"",active_year:1998}},mounted:function(){new Date;this.active_id=this.$store.state.chronus.id,this.tapYear(this.$store.state.chronus.end.substring(0,4))},methods:{tapYear:function(t){var e=this;this.months.map(function(n){var r=n.year;if(t==r){var i=n[r];e.now_month=i}}),this.active_year=t,this.uploadNowMonth()},uploadNowMonth:function(){this.$emit("nowmonth_Father",this.now_month)},uploadChronu:function(t){this.$emit("chronu_Father",t)}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.months,function(e,r){return n("div",{key:r,staticClass:"qiong-pt-10 d-inline"},[n("button",{staticClass:"btn-chronu btn-chronu-year",class:{"btn-chronu-year_active":e.year==t.active_year},on:{click:function(n){return t.tapYear(e.year)}}},[t._v("\n            "+t._s(e.year)+"\n        ")])])}),t._v(" "),n("qiong-gradient-line",{staticClass:"qiong-pt-10"}),t._v(" "),t.now_month.length>0?n("div",{staticClass:"qiong-pt-15"},t._l(t.now_month,function(e,r){return n("button",{key:r,staticClass:"btn-chronu qiong-txt-12",class:{"btn-chronu-active":e.chronu_id==t.active_id},on:{click:function(n){return t.uploadChronu(e.chronu)}}},[t._v("\n            "+t._s(t.view.backend.view_month(e.month))+"\n        ")])}),0):t._e()],2)},staticRenderFns:[]};var w=n("VU/8")(b,x,!1,function(t){n("J7Nu")},"data-v-f99d2a52",null).exports,k=n("PJh5"),$=n.n(k),y={components:{ChronusItem:h,QiongLoading:d.a,ChronuTitlePart:w,ChronuItemPart:g,QiongSpace:_.a},name:"",data:function(){return{chronus:[],loading:!0,ct:[],now_chronu:[]}},mounted:function(){var t=this;return l()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.simpleInit();case 2:case"end":return e.stop()}},e,t)}))()},methods:{simpleInit:function(){var t=this;return l()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=window.sessionStorage.getItem("sandyy_chronus"))){e.next=11;break}return n=JSON.parse(n),e.next=5,t.trashNew(n);case 5:n=(n=e.sent).map(function(e){return t.ser_chornu(e,!1)}),t.ser_title(n),t.loading=!1,e.next=13;break;case 11:return e.next=13,t.chronusLoading();case 13:case"end":return e.stop()}},e,t)}))()},trashNew:function(t){var e=this;return l()(c.a.mark(function n(){var r,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],i=$()(new Date),t.map(function(t){return $()(t.start)<i&&r.push(t),t}),e.abrupt("return",r.map(function(t){return t.end_origin=t.end,t.end=t.end_date,t.start_origin=t.start,t.start=t.start_date,t}));case 4:case"end":return e.stop()}},n,e)}))()},chronusLoading:function(){var t=this;return l()(c.a.mark(function e(){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.conn.get(t.api.chronus,t.$store.state.token,{_sort:"start:DESC",_limit:999});case 2:if(!(n=e.sent)){e.next=12;break}return e.next=6,t.trashNew(n);case 6:n=(n=e.sent).map(function(e){return t.ser_chornu(e,!0)}),t.chronus=n.sort(function(e,n){return t.view.sort_time(e,n)}),window.sessionStorage.setItem("sandyy_chronus",s()(n)),t.ser_title(n),t.loading=!1;case 12:case"end":return e.stop()}},e,t)}))()},ser_chornu:function(t,e){try{delete t.orders,delete t.bonuses,delete t.commissions,delete t.bonus_calculations}catch(t){}return this.ct.push(i()(t.end.substring(0,4))),t},ser_title:function(t){var e=this;this.ct=this.ct.filter(function(t,n){return e.ct.indexOf(t,0)===n}),this.ct=this.ct.map(function(e){var n={year:e};return n[e+""]=[],t.map(function(t){var r=t.end.substring(0,4),a=t.end.substring(5,8);e==r&&n[r].push({month:i()(a),chronu_id:t.id,chronu:t})}),n})},changeSuccess:function(t){var e=this;this.$store.commit("saveLoading",!0),setTimeout(function(n){e.$store.commit("saveChronus",[t,!0]),e.$store.commit("saveSponsor",null),e.$store.commit("saveEnroller",null),e.$store.commit("saveCollection",null),e.$store.commit("saveTreeSponsor",null),e.$store.commit("saveTreeEnroller",null),e.$store.commit("saveBonusQualifyLine",null),e.$router.push("/home/user/center"),e.$store.commit("saveLoading",!1)},300)},nowChronu:function(t){this.now_chronu=t}}},C={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"h-100 chronu-panel qiong-txt-14",attrs:{fluid:""}},[n("v-row",{staticClass:"mt-2"},[n("v-col",{attrs:{cols:"1"}}),t._v(" "),n("v-col",{attrs:{cols:"12",sm:10}},[n("div",{staticClass:"qiong-txt-24 qiong-txt-primary-dark pb-3"},[t._v("\n                結算月份\n            ")]),t._v(" "),t.loading?t._e():n("chronu-title-part",{attrs:{months:t.ct},on:{nowmonth_Father:t.nowChronu,chronu_Father:t.changeSuccess}})],1),t._v(" "),n("v-col",{attrs:{cols:"1"}})],1),t._v(" "),t.loading?n("v-row",[n("v-col",{attrs:{col:"12"}},[n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("qiong-loading",{attrs:{bigger:1}})],1)],1):n("v-row",[n("v-col",{attrs:{cols:"2"}}),t._v(" "),n("v-col",{attrs:{cols:"12",sm:8}},[n("qiong-space",{staticClass:"qiong-pt-5 mobie-hide"}),t._v(" "),n("div",{staticClass:"pb-2"},t._l(t.now_chronu,function(e,r){return n("div",{key:r,staticClass:"my-5 chronu-item"},[n("chronu-item-part",{attrs:{c_item:e},on:{sign_Father:t.changeSuccess}}),t._v(" "),r==e.length-1?n("v-divider"):t._e()],1)}),0)],1),t._v(" "),n("v-col",{attrs:{col:"2"}})],1)],1)},staticRenderFns:[]};var E=n("VU/8")(y,C,!1,function(t){n("RscO")},"data-v-ebfebd06",null);e.default=E.exports},"9FBE":function(t,e){},AGTD:function(t,e){},APhH:function(t,e,n){t.exports=n.p+"static/img/FACE.3c2555c.jpg"},BhWh:function(t,e){},BwmE:function(t,e){},C13K:function(t,e){},DMLc:function(t,e){},Dghm:function(t,e){},FPAt:function(t,e){},J7Nu:function(t,e){},Lo9w:function(t,e){},"NT/l":function(t,e){},OLQ5:function(t,e,n){"use strict";var r=n("Xxa5"),i=n.n(r),a=n("exGp"),s=n.n(a),o=n("k0Vh"),c=n("rbjZ"),u=n("Sx7q"),l=n("oKCz"),d=n("gBtx"),_=n.n(d),m=n("jOJ2"),v=n("+Wze"),h=n("gSmO"),p={name:"",components:{LevelImageViewing:v.a,LevelViewing:m.a},props:{_need_avatar:Boolean,_avatar:String,_bonus:Object,_me:Object},data:function(){return{is_top:!1,def_name:"會員",vip:null,rank:null,vip_code:null,top_vip:null,top_rank:10,top_vip_code:null,loading:!0,media_root:"/static/",def_avatar:"/static/ICONS/vip_member.png"}},mounted:function(){var t=this;this.init(),setTimeout(function(e){t.loading=!1},200)},methods:{init:function(){this.rank=this._bonus?this._bonus.Rank:0,this.vip_code=this.rank_to_code(this.rank),this.vip=this.code_to_vip(this.vip_code),this.top_rank=this._me.top_rank,this.top_rank?(this.top_rank=_()(this.top_rank),this.top_rank=this.top_rank<6?0:this.top_rank):this.top_rank=0,this.top_vip_code=this.rank_to_code(this.top_rank),this.top_vip=this.code_to_vip(this.top_vip_code)},rank_to_code:function(t){return h.a.vip_view.rank_to_code(t)},code_to_vip:function(t){return h.a.vip_view.vip_now(t)}},computed:{rank_res:function(){return this.is_top?10:this._bonus.Rank},level_top:function(){if(this.top_vip)return this.top_vip.nick},avatar_top:function(){if(this.top_vip)return this.media_root+this.top_vip.img},level:function(){if(this.vip)return this.vip.name},avatar:function(){if(this.vip)return this.media_root+this.vip.img}}},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fs-12 pl-4"},[n("div",{staticClass:"qiong-td d-flex menu-avatar"},[n("div",{staticClass:"qiong-wide-38"},[t.loading?n("div",{staticClass:"def-avatar"}):n("img",{attrs:{src:t.avatar}})]),t._v(" "),n("div",{staticClass:"qiong-wide-12"}),t._v(" "),n("div",{staticClass:"qiong-wide-25 fi-bottom hight-avatar"},[t.loading?n("div",{staticClass:"def-avatar"}):n("img",{attrs:{src:t.avatar_top}})]),t._v(" "),n("div",{staticClass:"qiong-wide-25"})]),t._v(" "),t.loading?n("div",{staticClass:"qiong-td mt-1"},[n("div",{staticClass:"qiong-wide-50"},[t._v("\n             "+t._s(t.$t("CONTENT.now"))+t._s(t.$t("CONTENT.level"))+"："+t._s(t.def_name)+"\n         ")]),t._v(" "),n("div",{staticClass:"qiong-wide-50"},[t._v("\n             "+t._s(t.$t("CONTENT.highest"))+t._s(t.$t("CONTENT.level"))+"："+t._s(t.def_name)+"\n         ")])]):n("div",{staticClass:"qiong-td mt-1"},[n("div",{staticClass:"qiong-wide-50"},[t._v("\n             "+t._s(t.$t("CONTENT.now"))+t._s(t.$t("CONTENT.level"))+"："+t._s(t.level)+"\n         ")]),t._v(" "),n("div",{staticClass:"qiong-wide-50"},[t._v("\n             "+t._s(t.$t("CONTENT.highest"))+t._s(t.$t("CONTENT.level"))+"："+t._s(t.level_top)+"\n         ")])])])},staticRenderFns:[]};var g=n("VU/8")(p,f,!1,function(t){n("Z0Zc")},"data-v-95d7911a",null).exports,b={components:{LadBonus:o.a,LadMsg:c.a,QiongGradientLine:u.a,LadAvatar:g,QiongLoading:l.a},name:"",props:{id:{type:String,default:""},need_avatar:{type:Boolean,default:!0}},data:function(){return{face:n("APhH"),member_code:null,mine:null,bonus:null,_chronus:null,loading:!1}},mounted:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!1,e.prev=1,t._assign(t.$store.state.user_backend.member_code),e.next=5,t.chronuLoading();case 5:if(t._chronus=e.sent,!t._chronus){e.next=13;break}return t._chronus=t._chronus[0],e.next=10,t.bonusLoading(t._chronus.id);case 10:return e.next=12,t.meLoading();case 12:t.mine&&(t.loading=!0);case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),t.loading=!0;case 18:case"end":return e.stop()}},e,t,[[1,15]])}))()},methods:{_assign:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.id?this.member_code=this.id:this.member_code=t},chronuLoading:function(){var t=this;return s()(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.view.getToday(),e.next=3,t.conn.get(t.api.chronus,t.$store.state.token,{"_where[start_lte]":n,"_where[end_gte]":n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,t)}))()},bonusLoading:function(t){var e=this;return s()(i.a.mark(function n(){var r;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.conn.get(e.api.bonus,e.$store.state.token,{time_period:t,"user.member_code":e.member_code});case 2:(r=n.sent)&&(e.bonus=r[0]);case 4:case"end":return n.stop()}},n,e)}))()},meLoading:function(){var t=this;return s()(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.conn.get(t.api.users,t.$store.state.token,{member_code:t.member_code});case 2:(n=e.sent)&&(t.mine=n[0]);case 4:case"end":return e.stop()}},e,t)}))()}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list",{staticClass:"px-0",attrs:{nav:"",dense:""}},[t.loading?n("lad-avatar",{attrs:{_avatar:t.face,_need_avatar:t.need_avatar,_bonus:t.bonus,_me:t.mine}}):t._e(),t._v(" "),t.loading?n("lad-msg",{staticClass:"qiong-pt-5 mt-1 pl-4 qiong-line-hight-18",attrs:{_bonus:t.bonus,_me:t.mine}}):n("div",{staticClass:"Lad_Three_Line pt-9"},[n("qiong-loading")],1)],1)},staticRenderFns:[]};var w=n("VU/8")(b,x,!1,function(t){n("C13K")},"data-v-6a81064c",null);e.a=w.exports},Qemx:function(t,e){},RscO:function(t,e){},T6Ku:function(t,e){},VJ03:function(t,e){},VicM:function(t,e){},WLu3:function(t,e,n){"use strict";var r=n("Xxa5"),i=n.n(r),a=n("exGp"),s=n.n(a),o=n("PJh5"),c=n.n(o),u={computed:{chronu:function(){return this.$store.state.chronus}},methods:{loadStore:function(t){var e=sessionStorage.getItem("oils_loyalty_wallet");return e?e=(e=JSON.parse(e)).member_code==t?e:null:null},_lunching:function(t,e){var n=this;return s()(i.a.mark(function r(){return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("LP 积分账户 获取的 Condition =",e),r.next=3,n.conn.get(n.api.build(n.conf.ENDPOINT.loyalty_wallet,t),n.$store.state.token,e);case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}},r,n)}))()},_condition:function(t){return{time_period:t=t||c()(this.chronu.end).format("yyyy-MM"),_limit:999,is_issued:!0,_sort:"published_at:asc"}},lunching:function(t,e){var n=this;return s()(i.a.mark(function r(){var a,s;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n,s=null){r.next=7;break}return r.next=5,n._lunching(t,n._condition(e));case 5:(s=r.sent)&&s.message&&((s=s.message).monthlys=s.LP_by_month?a.serial_Monthly(s.LP_by_month):[],s.member_code=t);case 7:return r.abrupt("return",s);case 8:case"end":return r.stop()}},r,n)}))()},serial_Monthly:function(t){var e=[];for(var n in t)t[n].period=n,e.push(t[n]);return e}}},l={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var d=n("VU/8")(u,l,!1,function(t){n("Qemx")},"data-v-2775763c",null);e.a=d.exports},X6Wb:function(t,e){},YrEf:function(t,e){},Z0Zc:function(t,e){},ZE7c:function(t,e){},"ZX/0":function(t,e){},aicC:function(t,e,n){t.exports=n.p+"static/img/LOCK.d4e8d30.png"},bjnc:function(t,e){},eibz:function(t,e){},f8AU:function(t,e){},hyU3:function(t,e){},k0Vh:function(t,e,n){"use strict";var r=n("Xxa5"),i=n.n(r),a=n("exGp"),s=n.n(a),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"btn-tiny_loyalty",on:{click:this.openLoyalty}},[e("v-icon",[this._v("mdi-arrow-right")])],1)},staticRenderFns:[]};var c=n("VU/8")({components:{},name:"",data:function(){return{}},methods:{openLoyalty:function(){this.$router.push("/home/buys/loyalty")}}},o,!1,function(t){n("DMLc")},"data-v-0a0cae4f",null).exports,u=n("GtFT"),l=n("KV/B"),d={components:{QiongLoading:n("oKCz").a,LoyaltyModalButton:c,MeSonCanNum:l.a,BonusEnrollerLineMe:u.a},props:{_bs:{type:Object},_mine:{type:Object}},methods:{get_son_can_num:function(){var t=this;return s()(i.a.mark(function e(){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.chronus_now,e.next=3,t.$refs.belmREF.lunch_Line(n.start);case 3:n=e.sent,r=0,n=n.map(function(t){t.is_active&&(r+=1)}),t.son_can_num=r;case 7:case"end":return e.stop()}},e,t)}))()}},data:function(){return{son_can_num:""}},mounted:function(){this.get_son_can_num()},computed:{loyalty:function(){return this._mine&&this._mine.lp_wallet?this._mine.lp_wallet.LP_available:0}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._bs?n("div",{staticClass:"fs-12 qiong-menu-sub"},[n("div",[t._v("\n            "+t._s(t.$t("CONTENT.self"))+t._s(t.$t("USER.member_pv"))+"："+t._s(t.view.if_def(t._bs.individual_pv,"0"))+"\n        ")]),t._v(" "),n("div",{},[t._v("\n            "+t._s(t.$t("BONUS.NORMAL.team_sell_pv"))+"："+t._s(t.view.if_def(t._bs.organization_pv,"0"))+"\n        ")]),t._v(" "),n("div",{},[t._v("\n            "+t._s(t.$t("BONUS.NORMAL.active_qualified"))+"："+t._s(t.view.if_def(t.son_can_num,"0"))+"\n        ")])]):n("div",{staticClass:"fs-12 qiong-menu-sub"},[n("div",[t._v("\n            "+t._s(t.$t("CONTENT.self"))+t._s(t.$t("USER.member_pv"))+"：0\n        ")]),t._v(" "),n("div",{},[t._v("\n            "+t._s(t.$t("BONUS.NORMAL.team_sell_pv"))+"：0\n        ")]),t._v(" "),n("div",{},[t._v("\n            "+t._s(t.$t("BONUS.NORMAL.active_qualified"))+"：0\n        ")])]),t._v(" "),t.$store.state.user_enroller?n("me-son-can-num",{ref:"scnREF"}):t._e(),t._v(" "),n("bonus-enroller-line-me",{ref:"belmREF"})],1)},staticRenderFns:[]};var m=n("VU/8")(d,_,!1,function(t){n("VicM")},"data-v-542d1109",null);e.a=m.exports},"n/G1":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("Xxa5"),i=n.n(r),a=n("exGp"),s=n.n(a),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"home-bg"},[this._t("menu"),this._v(" "),e("v-main",{staticClass:"content mobie-main"},[this._t("content")],2)],2)},staticRenderFns:[]};var c=n("VU/8")({components:{},name:"",data:function(){return{}}},o,!1,function(t){n("xuzA")},"data-v-0b55b3cd",null).exports,u=n("6Z/R"),l=n("oKCz"),d={name:"",components:{QiongLoading:l.a},data:function(){return{}}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{staticClass:"qiong-txt-td"},[e("v-row",[e("v-col",{staticClass:"qiong-pl-20 qiong-pr-20 running-pt"},[e("qiong-loading",{attrs:{bigger:1}}),this._v(" "),e("div",{staticClass:"text-center running-txt"},[this._v("\n                加載中\n            ")])],1)],1)],1)},staticRenderFns:[]};var m=n("VU/8")(d,_,!1,function(t){n("FPAt")},"data-v-1a18304e",null).exports,v=n("//Fk"),h=n.n(v),p={name:"",data:function(){return{admin:!1,share:0,one:[],group:[]}},mounted:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.$emit("menu_Father");case 1:case"end":return e.stop()}},e,t)}))()},methods:{_member_change:function(){var t=this;return new h.a(function(e,n){var r,i={icon:"mdi-cog-outline",title:"Admin 功能列表",link:null,order:-1,active:!1,children:[{icon:"mdi-certificate",title:"獎金報表 (Admin 視角)",link:"account/statement"},{icon:"mdi-vector-square",title:"管理獎金 (Admin 視角)",link:"bonus/management_info_admin"},{icon:"mdi-chart-line",title:"發展獎金 (Admin 視角)",link:"bonus/development_info_admin"},{icon:"mdi-alarm-panel",title:"獎金月結單",link:"user/pma2"},{icon:"mdi-database-settings-outline",title:"產品庫存",link:"buys/inventory"},{icon:"mdi-database-cog-outline",title:"庫存操作記錄",link:"log/stocks"},{icon:"mdi-clipboard-account",title:"LP 資料變更記錄",link:"member_operate/lplevel_msg_change"},{icon:"mdi-clipboard-plus-outline",title:"增加 LP 積分",link:"member_operate/lp_plus"},{icon:"mdi-account-arrow-up-outline",title:"更改 LP 等級",link:"member_operate/level_change"},{icon:"mdi-account-sync-outline",title:"重啟 LP 資格",link:"member_operate/reload_qualify"}]};t.conf.TEST&&(r=i.children).push.apply(r,[{icon:"mdi-cube",title:"產品列表",link:"buys/products"},{icon:"mdi-cog-transfer-outline",title:"轉賬審核",link:"loyalty/transfer_audit"}]);t.admin&&t.group.push(i),e(!0)})},_build:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._buy_record();case 2:return e.next=4,t._bonu_statement();case 4:return e.next=6,t._leader_share();case 6:return e.next=8,t._point_wallet();case 8:return e.next=10,t._member_change();case 10:return e.next=12,t.$store.commit("saveShareType",t.share);case 12:case"end":return e.stop()}},e,t)}))()},_point_wallet:function(){var t=this;return new h.a(function(e,n){var r,i={icon:"mdi-account-cash-outline",title:"我的積分",link:null,order:6,active:!1,children:[{icon:"mdi-account-heart-outline",title:t.$t("MENU.loyalty_record"),link:"loyalty/loyalty"}]};t.conf.TEST&&(r=i.children).push.apply(r,[{icon:"mdi-wallet-outline",title:"電子錢包",link:"loyalty/wallet"},{icon:"mdi-cash-fast",title:"轉賬",link:"loyalty/transfer_money"}]);t.group.push(i),e(!0)})},_buy_record:function(){var t=this;return new h.a(function(e,n){var r={icon:"mdi-clipboard-multiple-outline",title:t.$t("MENU.buy_record"),link:"buys/records"};t.one.push(r),e(!0)})},_bonu_statement:function(){var t=this;return new h.a(function(e,n){var r={icon:"mdi-certificate",title:t.$t("MENU.bonus_statement"),link:"account/statement_member",order:2,active:!1};t.one.push(r),e(!0)})},_leader_share:function(){var t=this;return new h.a(function(e,n){var r=t.share>=1?[{icon:"mdi-vector-square",title:t.$t("MENU.manage_share"),link:"bonus/management_info"}]:[];t.share>=2&&r.push({icon:"mdi-chart-line",title:t.$t("MENU.develop_share"),link:"bonus/development_info"});var i={icon:"mdi-account-star-outline",title:t.$t("BONUS.NORMAL.lead_share_out"),link:null,children:r,order:3,active:!1};r&&r.length>0&&t.group.push(i),e(!0)})},menuNow:function(){var t=this;return s()(i.a.mark(function e(){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.admin=t.$store.state.is_admin,!(n=t.$store.state.platform_data.member_code)){e.next=16;break}return e.prev=3,e.next=6,t.conn.get(t.api.bonus,t.$store.state.token,{"user.member_code":n,time_period:t.$store.state.chronus.id});case 6:r=e.sent,t.share=t._num_share_type(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t.share=0;case 13:return e.next=15,t._build();case 15:return e.abrupt("return",{one:t.one,group:t.group});case 16:case"end":return e.stop()}},e,t,[[3,10]])}))()},_num_share_type:function(t){var e=0;if(t&&t.length>0){var n=t[0]?t[0].Rank:0;n>this.conf.RANK_LEAD&&(e=n<8?1:2)}return e=this.admin?2:e}}},f={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var g=n("VU/8")(p,f,!1,function(t){n("9FBE")},"data-v-f5886e28",null).exports,b={name:"",props:{link:String,items:Array},data:function(){return{}}},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.items,function(e){return n("v-list-item",{key:e.title,staticClass:"pl-15",class:{"v-list-item--active-MANY":"/home/"+t.link==t.$route.path},attrs:{color:"white"},on:{click:function(n){return n.stopPropagation(),t.$router.push({path:"/home/"+e.link})}}},[n("v-list-item-avatar",{staticClass:"pr-0 mr-3"},[n("v-icon",{attrs:{size:22}},[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("div",{attrs:{tag:"div"}},[t._v("\n                "+t._s(e.title)+"\n            ")])])],1)}),1)},staticRenderFns:[]};var w=n("VU/8")(b,x,!1,function(t){n("f8AU")},"data-v-767f3f8c",null).exports,k={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-list-item",{on:{click:this.editChronu}},[e("v-list-item-avatar",[e("v-icon",[this._v("mdi-calendar-edit")])],1),this._v(" "),e("v-list-item-content",[e("div",{attrs:{tag:"div"}},[this._v("\n            "+this._s(this.$t("MENU.date_changer"))+"\n        ")])])],1)},staticRenderFns:[]};var $={name:"",data:function(){return{def_code:"",member_code:"",last_code:"",vilida:!0,working:!1}},mounted:function(){var t=this.$store.state.user_backend.member_code;this.def_code=t,this.last_code=t,this.member_code=t},methods:{editMember:function(){},_success:function(t,e){var n=this;sessionStorage.setItem("sandyy_active_code",e),sessionStorage.setItem("sandyy_vx_tk",this.$store.state.token+"8"),this.$store.commit("saveBackendUser",t);var r=this.$store.state.platform_data;r.member_code=e,this.$store.commit("saveFromPlatform",r),this.$store.commit("saveSponsor",null),this.$store.commit("saveEnroller",null),this.$store.commit("saveCollection",null),this.$store.commit("saveTreeSponsor",null),this.$store.commit("saveTreeEnroller",null),setTimeout(function(t){n.$store.commit("saveLoading",!0),setTimeout(function(t){n.$store.commit("saveLoading",!1),n.working=!1},1400)},400)},_submit:function(t){var e=this;return s()(i.a.mark(function n(){var r;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e.working=!0,n.next=3,e.conn.get(e.api.users,e.$store.state.token,{member_code:t});case 3:(r=n.sent)&&r.length>0?(e.last_code=t,e._success(r[0],t)):(e.working=!1,e.vilida=!1);case 5:case"end":return n.stop()}},n,e)}))()},_validate:function(t){return!isNaN(t)},changeMember:function(){var t=this.member_code.trim(),e=!!t&&this._validate(t);e&&t!=this.last_code&&this._submit(t),this.vilida=!!e},clear:function(){this.member_code="",this.vilida=!0}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-list-item",{class:"menu-none-fx"},[n("v-list-item-avatar",[n("v-icon",[t._v("mdi-account-cog-outline")])],1),t._v(" "),n("v-list-item-content",[n("div",{attrs:{tag:"div"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.member_code,expression:"member_code"}],staticClass:"input-sub_member_code",attrs:{type:"text",placeholder:"會員編號"},domProps:{value:t.member_code},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.changeMember(e)},input:function(e){e.target.composing||(t.member_code=e.target.value)}}}),t._v(" "),t.member_code?n("div",{staticClass:"btn-sub_submit_icon"},[t.vilida&&t.working?n("v-icon",{staticClass:"txt-success ani-rotate",on:{click:t.changeMember}},[t._v("\n                    mdi-loading\n                ")]):t.vilida&&!t.working?n("v-icon",{staticClass:"txt-success",on:{click:t.changeMember}},[t._v("\n                    mdi-arrow-right\n                ")]):n("v-icon",{staticClass:"txt-error",on:{click:t.clear}},[t._v(" mdi-close ")])],1):n("div",{staticClass:"btn-sub_submit_icon"},[n("v-icon",{on:{click:t.changeMember}},[t._v("\n                    mdi-arrow-right\n                ")])],1)])])],1)},staticRenderFns:[]};var C={components:{MenuItemChronu:n("VU/8")({name:"",data:function(){return{}},methods:{editChronu:function(){this.$router.push("/home/chronus")}}},k,!1,function(t){n("bjnc")},"data-v-f6d75aae",null).exports,MenuItemIdInput:n("VU/8")($,y,!1,function(t){n("hyU3")},"data-v-7e7b377c",null).exports},name:"",computed:{show:function(){return this.$store.state.is_admin}}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("menu-item-chronu"),t._v(" "),t.show?n("div",{staticClass:"menu-sub_title"},[t._v("\n        "+t._s(t.$t("MENU.member_changer"))+"\n    ")]):t._e(),t._v(" "),t.show?n("menu-item-id-input"):t._e()],1)},staticRenderFns:[]};var N={components:{ArrangeLister:g,MenuSettingSimple:n("VU/8")(C,E,!1,function(t){n("eibz")},"data-v-70aa28c4",null).exports,ListerChildrenItems:w,QiongLoading:l.a},data:function(){return{group:null,loading:!1,tiles:[],tiles_group:[]}},methods:{serMenu:function(){var t=this;return s()(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.arrangeREF.menuNow();case 2:(n=e.sent)&&(n.one.map(function(e){t.tiles.splice(1,0,e)}),n.group=n.group.sort(function(t,e){return e.order-t.order}),n.group.map(function(e){t.tiles_group.splice(0,0,e)}));case 4:case"end":return e.stop()}},e,t)}))()},init:function(){var t=this;return new h.a(function(e,n){t.tiles=[{icon:"mdi-account-tie-outline",title:t.$t("MENU.user_center"),link:"user/center"}],t.tiles_group=[{icon:"mdi-trophy-variant-outline",title:t.$t("MENU.bonus_detail"),link:null,id:4,active:!1,children:[{icon:"mdi-basket-outline",title:t.$t("MENU.recommend"),link:"bonus/recommend"},{icon:"mdi-bell-ring-outline",title:t.$t("MENU.active_house"),link:"bonus/active_house"},{icon:"mdi-account-group-outline",title:t.$t("MENU.team_layer"),link:"bonus/active_layer"}]},{icon:"mdi-family-tree",title:t.$t("MENU.tree_structure"),link:null,active:!1,children:[{icon:"mdi-file-tree",title:t.$t("MENU.enroller_structure"),link:"user/enroller"},{icon:"mdi-file-tree-outline",title:t.$t("MENU.sponser_structure"),link:"user/sponser"}]}],t.serMenu(),e(!0)})},go:function(t){this.$router.push({path:t})},menuOpera:function(t){}}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loading?n("div",[n("qiong-loading",{attrs:{bigger:0}})],1):n("v-list-item-group",{staticClass:"qiong-br-0 qiong-list-item",model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[t._l(t.tiles,function(e,r){return n("v-list-item",{key:r,class:{"v-list-item--active":"/home/"+e.link==t.$route.path},on:{click:function(n){return n.stopPropagation(),t.go("/home/"+e.link)}}},[n("v-list-item-avatar",{staticClass:"py-0 my-0"},[n("v-icon",{domProps:{innerHTML:t._s(e.icon)}})],1),t._v(" "),n("v-list-item-content",[n("div",{attrs:{tag:"div"}},[t._v("\n                "+t._s(e.title)+"\n            ")])])],1)}),t._v(" "),t._l(t.tiles_group,function(e,r){return n("v-list-group",{key:r+100,staticClass:"lad_list_group",attrs:{"no-action":"","sub-group":"","prepend-icon":e.icon,color:"rgba(255, 255, 255, 0.6)",id:"lister_"+r},on:{click:function(e){return t.menuOpera(r)}},scopedSlots:t._u([{key:"activator",fn:function(){return[n("v-list-item-content",[n("v-list-item-title",{staticClass:"pl-2 fs-16"},[t._v(t._s(e.title))])],1)]},proxy:!0}],null,!0),model:{value:e.active,callback:function(n){t.$set(e,"active",n)},expression:"tile.active"}},[t._v(" "),n("lister-children-items",{attrs:{items:e.children,link:e.link}})],1)}),t._v(" "),n("menu-setting-simple"),t._v(" "),t.$store.state.loading?t._e():n("arrange-lister",{ref:"arrangeREF",on:{menu_Father:t.init}})],2)},staticRenderFns:[]};var L=n("VU/8")(N,R,!1,function(t){n("X6Wb")},"data-v-a6c9c5a0",null).exports,F=n("rbjZ"),T=n("k0Vh"),S=n("OLQ5"),O=n("+Wze"),U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{staticClass:"btn app-bar-closing mobie-show",on:{click:t.closing}},[n("v-icon",[t._v("\n            mdi-chevron-left\n        ")]),t._v(" "),n("span",[t._v("\n            "+t._s(t.$t("CONTENT.close"))+t._s(t.$t("CONTENT.menu"))+"\n        ")])],1),t._v(" "),n("div",{staticClass:"txt-sus pl-5 txt-8 pb-3"},[n("p",[t._v("版本："+t._s(t.conf.VERSION))]),t._v(" "),n("p",[t._v("日期："+t._s(t.conf.VERSION_TIME))])])])},staticRenderFns:[]};var M=n("VU/8")({name:"",data:function(){return{}},methods:{closing:function(){this.$emit("btn_Father")}}},U,!1,function(t){n("BwmE")},"data-v-6d259799",null).exports,q=n("4Tg6"),V=n("Sx7q"),A={components:{QiongGradientLine:V.a,ToolReady:q.a,QiongLoading:l.a},props:["_wallet"],methods:{initMe:function(){}}},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"pl-4 menu-split-line",on:{click:function(e){return t.$router.push("/home/loyalty/loyalty")}}},[t._wallet&&!t.$store.state.loading?n("div",{staticClass:"fx-s menu-split-line_inner"},[n("div",[t._v("\n            忠誠度積分(LP)："),n("span",[t._v(t._s(t._wallet.LP_available))])]),t._v(" "),n("v-icon",{staticClass:"mr-3"},[t._v("\n            mdi-chevron-right\n        ")])],1):n("div",{staticClass:"menu-split-line_inner"},[n("qiong-loading",{attrs:{bigger:-1}})],1),t._v(" "),n("qiong-gradient-line",{staticClass:"msl-qgl"})],1)},staticRenderFns:[]};var B=n("VU/8")(A,P,!1,function(t){n("Dghm")},"data-v-799b1f42",null).exports,I=n("Um5R"),Q=n("WLu3"),D={name:"",inject:["reload"],components:{LadLister:L,LadMsg:F.a,LadBonus:T.a,LevelImageViewing:O.a,MenuMsgWidget:S.a,QiongAppBarClosing:M,QiongLoading:l.a,MenuSplitLine:B,QiongSpace:I.a,QiongGradientLine:V.a,ToolReady:q.a,LoyaltyWalletMe:Q.a},data:function(){return{drawer:!0,mini:!1,mobie:!0,me:null,wallet:null}},mounted:function(){},methods:{initMe:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.wallet=null,t.me=t.$store.state.user_backend,e.next=4,t.$refs.walletREF.lunching(t.me.member_code);case 4:t.wallet=e.sent,console.log("当前用户 =",t.me.member_code,t.wallet);case 6:case"end":return e.stop()}},e,t)}))()},changeF:function(){this.drawer=!this.drawer},opened:function(){this.drawer=!this.drawer}}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{staticClass:"right-shadow app-bar",attrs:{absolute:!1,temporary:!1,width:"290",app:"","mini-variant":t.mini,"mini-variant-width":"68",floating:!0,"hide-overlay":!t.mobie},on:{"update:miniVariant":function(e){t.mini=e},"update:mini-variant":function(e){t.mini=e}},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t.$store.state.loading?n("div",{staticClass:"menu-loading qiong-pt-10"},[n("qiong-loading")],1):n("div",{staticClass:"qiong-pt-10"},[this.$store.state.platform_data?n("menu-msg-widget",{attrs:{id:this.$store.state.platform_data.member_code,need_avatar:!0}}):t._e()],1),t._v(" "),n("qiong-gradient-line",{staticClass:"pl-4 qiong-pt-10 qgl-fix"}),t._v(" "),n("lad-lister",{staticClass:"qiong-pt-10 "}),t._v(" "),n("qiong-space",{attrs:{space:"4vh"}}),t._v(" "),t.mobie?n("qiong-app-bar-closing",{on:{btn_Father:function(e){t.drawer=!1}}}):t._e(),t._v(" "),n("loyalty-wallet-me",{ref:"walletREF"}),t._v(" "),t.$store.state.user_backend&&!t.$store.state.loading?n("tool-ready",{on:{sign:t.initMe}}):t._e()],1)},staticRenderFns:[]};var z=n("VU/8")(D,j,!1,function(t){n("nEfC")},"data-v-06dcb537",null).exports,G=n("3c3G"),K={name:"",props:{id:{type:String}},data:function(){return{}},methods:{productLoading:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.conn.get(t.api.products,t.$store.state.token,{_limit:999});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}))()}}},J={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var W=n("VU/8")(K,J,!1,function(t){n("pNOO")},"data-v-31c1b788",null).exports,Z={name:"",props:{active:{type:Boolean},username:{type:String}},data:function(){return{lock_pic:n("aicC")}}},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.active?t._e():n("div",{staticClass:"active-shimmer as-pos-fix"},[n("div",{staticClass:"qiong-txt-22 text-center"},[n("div",{staticClass:"lock_panel"},[n("img",{staticClass:"w-full",attrs:{src:t.lock_pic}})]),t._v(" "),n("div",{staticClass:"w-full fw-b"},[t._v("\n            "+t._s(t.$t("CONTENT.ice_1"))),n("br"),t._v("\n            "+t._s(t.$t("CONTENT.ice_2"))+"\n            "+t._s(t.$t("CONTENT.ice_3"))+"\n            "+t._s(t.$t("CONTENT.ice_4"))+"\n        ")]),t._v(" "),n("div",{staticClass:"w-full qiong-pt-10 qiong-txt-primary"},[n("div",{staticClass:" fw-b kfb_title"},[t._v("\n                "+t._s(t.$t("CONTENT.ice_3"))+"\n            ")]),t._v(" "),n("div",{staticClass:"qiong-txt-16"},[t._v("\n                "+t._s(t.$t("CONTENT.email"))+": \n                "),n("span",{},[t._v("\n                    "+t._s(t.conf.SYSTEM.email)+"\n                ")]),t._v(" "),n("br"),t._v("\n                "+t._s(t.$t("CONTENT.whatsapp"))+": \n                "),n("span",{},[t._v("\n                    "+t._s(t.conf.SYSTEM.whatsapp)+"\n                ")])])])])])},staticRenderFns:[]};var X=n("VU/8")(Z,H,!1,function(t){n("2rio")},"data-v-329e17fd",null).exports,Y={render:function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"app-bar-trigger",on:{click:this.open}},[e("img",{attrs:{src:"/static/WEB_ICONS/menu_trigger.png"}})])},staticRenderFns:[]};var tt=n("VU/8")({name:"",data:function(){return{}},methods:{open:function(){this.$emit("btn_Father")}}},Y,!1,function(t){n("BhWh")},"data-v-755ed9c4",null).exports,et=n("BO1k"),nt=n.n(et),rt=n("PJh5"),it=n.n(rt),at=n("gSmO"),st={props:{chronu_id:{type:String}},data:function(){return{user:null,chronu:"",finished:!1,relation_s:"",relation_e:"",results:[]}},computed:{user_backend:function(){return this.$store.state.user_backend},token:function(){return this.$store.state.token}},methods:{valuation:function(t){this.chronu=t||this.$store.state.chronus.id,this.user=this.user_backend},init:function(){var t=this;return s()(i.a.mark(function e(){var n,r,a,s,o,c;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.finished=!1,n=void 0,r=void 0,!t.user){e.next=28;break}return e.next=5,t.saving(null,null,[],[],[]);case 5:return e.next=7,t.userLoading("SPONSER");case 7:return a=e.sent,e.next=10,t.userLoading("ENROLLER");case 10:return s=e.sent,e.next=13,t.fetchingOrders();case 13:return o=e.sent,at.a.user_with_orders(a,o,t.buildData),at.a.user_with_orders(s,o,t.buildData),e.next=18,at.a.rolling(a,t.user.member_code,"SPONSER");case 18:return n=e.sent,e.next=21,at.a.rolling(s,t.user.member_code,"ENROLLER");case 21:return r=e.sent,e.next=24,at.a.collection(a,s);case 24:return c=e.sent,e.next=27,t.saving(a,s,n,r,c);case 27:t.finished=!0;case 28:t.$emit("finished_Father",t.finished);case 29:case"end":return e.stop()}},e,t)}))()},clearFixed:function(t){return t},buildData:function(t){var e=void 0,n=void 0,r=void 0;if(t.bonuses&&t.bonuses.length>0){var i=!0,a=!1,s=void 0;try{for(var o,c=nt()(t.bonuses);!(i=(o=c.next()).done);i=!0){var u=o.value;if(u.time_period==this.chronu){r=u;break}}}catch(t){a=!0,s=t}finally{try{!i&&c.return&&c.return()}finally{if(a)throw s}}}r||(r=at.a.def.bonu_def(this.chronu)),t.bonu_period=this.clearFixed(r),r.Rank>5?(e=at.a.conf.NAMESPACE.LEADER,n=r.Rank-5):(e=at.a.conf.NAMESPACE.SIMPLER,n=r.Rank),t.vip={name:e,star:n,code:e+"_"+n},t.vip_next=at.a.vip_view.vip_next_simpler(e,n)},saving:function(t,e,n,r,a){var o=this;return s()(i.a.mark(function s(){return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,o.$store.commit("saveSponsor",t);case 2:return i.next=4,o.$store.commit("saveEnroller",e);case 4:return i.next=6,o.$store.commit("saveCollection",a);case 6:return i.next=8,o.$store.commit("saveTreeSponsor",n);case 8:return i.next=10,o.$store.commit("saveTreeEnroller",r);case 10:return i.next=12,o.$store.commit("saveResults",o.results);case 12:case"end":return i.stop()}},s,o)}))()},judgeShareType:function(t){var e=this;return s()(i.a.mark(function n(){var r,a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=0,t[0]&&((a=t[0].bonu_period.Rank)>e.conf.RANK_LEAD&&(r=a<e.conf.RANK_DEVELOP?1:2),e.$store.state.is_browser||(r=0)),n.next=4,e.$store.commit("saveShareType",r);case 4:case"end":return n.stop()}},n,e)}))()},fetchingOrders:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.conn.get(t.api.orders,t.token,{time_period:t.chronu,_limit:999});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}))()},_condition:function(){var t=it()(this.$store.state.chronus.end);return{"_where[registered_date_lte]":(t=(t=t?t.format("yyyy-MM-DD"):this.$store.state.chronus.end)?t.substring(0,10):t)+" 23:59:59",_limit:999}},userLoading:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SPONSER";return s()(i.a.mark(function n(){var r,a;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=t._condition(),"SPONSER"==e?r["_where[relation_index_sponsor_contains]"]=t.user.relation_index_sponsor:r["_where[relation_index_enroller_contains]"]=t.user.relation_index_enroller,n.next=4,t.conn.get(t.api.users,t.token,r);case 4:return a=n.sent,n.next=7,t.serialUser(a,e);case 7:return n.abrupt("return",n.sent);case 8:case"end":return n.stop()}},n,t)}))()},_clearUser:function(t){return delete t.role,delete t.enrolled,delete t.sponsored,delete t.sponsor_line,delete t.enroller_line,delete t.lp_wallet,delete t.created_at,delete t.updated_at,delete t.registered_date,delete t.bonus_calculations,t},serialUser:function(t,e){var n=this;return new h.a(function(r,i){var a=[],s=/^[0-9]*$/;if("SPONSER"==e)for(var o=0;o<t.length;o++){var c=t[o],u=!0;s.test(c.sponsor_id)?c.register_date_list=n.view.ser_timed_list(c.registered_date):u=!1,(c.relation_index_sponsor+"_").startsWith(n.user.relation_index_sponsor+"_")||(u=!1),u&&a.push(n._clearUser(c))}else if("ENROLLER"==e)for(var l=0;l<t.length;l++){var d=t[l],_=!0;s.test(d.enroller_id)?d.register_date_list=n.view.ser_timed_list(d.registered_date):_=!1,(d.relation_index_enroller+"_").startsWith(n.user.relation_index_enroller+"_")||(_=!1),_&&a.push(n._clearUser(d))}n.results=a,r(a)})}}},ot={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var ct=n("VU/8")(st,ot,!1,function(t){n("AGTD")},"data-v-334e5837",null).exports,ut={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var lt=n("VU/8")({name:"",data:function(){return{}},mounted:function(){this.$emit("loading_Father")}},ut,!1,function(t){n("NT/l")},"data-v-09573710",null).exports,dt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var _t=n("VU/8")({components:{},name:"",props:{},data:function(){return{}}},dt,!1,function(t){n("ZX/0")},"data-v-1bbb36a2",null).exports,mt=n("GtFT"),vt=n("+gna"),ht={name:"",data:function(){return{ranks:[6,7,8,9,10]}},methods:{tbdLoading:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.conn.get(t.api.team_bonus_detail,t.$store.state.token);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,t)}))()}}},pt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var ft=n("VU/8")(ht,pt,!1,function(t){n("ZE7c")},"data-v-35c7bae6",null).exports,gt=n("KV/B"),bt=n("Gu7T"),xt=n.n(bt),wt={methods:{sponsor:function(t,e){var n=this;return s()(i.a.mark(function r(){var a,s;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",0);case 3:return a=r.sent,r.next=6,n.conn.ex_get(n,"user_s_detail",{member_code:t,time_period:e});case 6:return s=r.sent,r.abrupt("return",[a.data,s.data]);case 8:case"end":return r.stop()}},r,n)}))()},enroller:function(t,e){var n=this;return s()(i.a.mark(function r(){var a,s;return i.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",0);case 3:return a=r.sent,r.next=6,n.conn.ex_get(n,"user_e_detail",{member_code:t,time_period:e});case 6:return s=r.sent,r.abrupt("return",[a.data,s.data]);case 8:case"end":return r.stop()}},r,n)}))()}}},kt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var $t={components:{NetUserRelation:n("VU/8")(wt,kt,!1,function(t){n("VJ03")},null,null).exports},data:function(){return{modes:["sponsor","enroller"]}},computed:{timed:function(){return this.$store.state.chronus},user:function(){return this.$store.state.user_backend}},methods:{_condition:function(){var t=this.timed.end;return t=t?it()(t).format("yyyy-MM"):"",[this.user.member_code,t]},init:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.user&&t.modes.map(function(){var e=s()(i.a.mark(function e(n){var r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r=t.$refs.retREF)[n].apply(r,xt()(t._condition()));case 2:if(!(a=e.sent)){e.next=6;break}return e.next=6,t.saving.apply(t,[n].concat(xt()(a)));case 6:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,t)}))()},saving:function(t,e,n){var r=this;return s()(i.a.mark(function a(){return i.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if("sponsor"!=t){i.next=12;break}return i.next=3,r.$store.commit("save",["user_s_tree",e]);case 3:return i.t0=r.$store,i.next=6,r._clean(n);case 6:return i.t1=i.sent,i.t2=["user_s_detail",i.t1],i.next=10,i.t0.commit.call(i.t0,"save",i.t2);case 10:i.next=21;break;case 12:return i.next=14,r.$store.commit("save",["user_e_tree",e]);case 14:return i.t3=r.$store,i.next=17,r._clean(n);case 17:return i.t4=i.sent,i.t5=["user_e_detail",i.t4],i.next=21,i.t3.commit.call(i.t3,"save",i.t5);case 21:case"end":return i.stop()}},a,r)}))()},_clean:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new h.a(function(n,r){var i=null;for(var a in e)i=t.bonu.switch_user_period(t.bonu.clean_user(e[a])),e[a]=t.bonu.user_vip_and_next_vip(i);n(e)})}}},yt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("net-user-relation",{ref:"retREF"})],1)},staticRenderFns:[]};var Ct=n("VU/8")($t,yt,!1,function(t){n("YrEf")},null,null).exports,Et=n("3Ijs"),Nt={name:"",components:{TeamBonusDetailInit:ft,BonusNumedInit:vt.a,BonusEnrollerLineMe:mt.a,MeSonCanNum:gt.a,NetBonusStatement:Et.a,ExAppInit:Ct},data:function(){return{}},mounted:function(){var t=this;return s()(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if([],!(n=t.$refs.boNumedREF.numdLoading())){e.next=8;break}return e.next=5,n;case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=[];case 9:return n=e.t0,t.$store.commit("saveBonusNum",n),e.t1=t.$store,e.next=14,t.$refs.tbdREF.tbdLoading();case 14:return e.t2=e.sent,e.t1.commit.call(e.t1,"saveTeamBonusDetail",e.t2),e.t3=t.$store,e.next=19,t.$refs.belmREF.lunch_Line();case 19:return e.t4=e.sent,e.t3.commit.call(e.t3,"saveBonusQualifyLine",e.t4),e.next=23,t.refreshSCN();case 23:return e.next=25,t.$refs.appInitREF.init();case 25:case"end":return e.stop()}},e,t)}))()},methods:{refreshSCN:function(){var t=this;return s()(i.a.mark(function e(){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.$refs.mscnREF.numing_backend(),(r=t.$store.state.user_backend).son_can_num=n,t.$store.commit("saveBackendUser",r);case 4:case"end":return e.stop()}},e,t)}))()}}},Rt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("bonus-numed-init",{ref:"boNumedREF"}),this._v(" "),e("team-bonus-detail-init",{ref:"tbdREF"}),this._v(" "),e("bonus-enroller-line-me",{ref:"belmREF"}),this._v(" "),e("me-son-can-num",{ref:"mscnREF"}),this._v(" "),e("net-bonus-statement",{ref:"bonusREF"}),this._v(" "),e("ex-app-init",{ref:"appInitREF"})],1)},staticRenderFns:[]};var Lt=n("VU/8")(Nt,Rt,!1,function(t){n("zkBg")},"data-v-95215a06",null).exports,Ft={components:{QiongLoading:l.a}},Tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"home-loading flex-center"},[e("qiong-loading",{attrs:{bigger:2}})],1)},staticRenderFns:[]};var St=n("VU/8")(Ft,Tt,!1,function(t){n("onGj")},null,null).exports,Ot={components:{HomeLayout:c,Chronus:u.default,QiongLoading:l.a,DataRunning:m,LeftAppDrawers:z,FlexIframePdf:G.a,ProductsLoading:W,ActiveShimmer:X,QiongAppBarTrigger:tt,InitApp:ct,LoadingTrigger:lt,HomeModals:_t,BonusEnrollerLineMe:mt.a,HomeRefreshing:Lt,HomeLoading:St},name:"",provide:function(){return{reload:this.reload}},created:function(){var t=this.$route.query.menu;this.menu=!t||JSON.parse(t)},watch:{$route:function(t,e){var n=t.path.split("/").length,r=e.path.split("/").length;this.transitionName=n<r?"slide-up":"slide-down",this.transitionName||(this.transitionName="slide-up")}},data:function(){return{alive:!0,menu:!1,member_area:!0,transitionName:null}},mounted:function(){var t=this;return s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:t.member_area=!!t.$store.state.user_backend.member_area;case 3:case"end":return e.stop()}},e,t)}))()},methods:{initData:function(){this.$refs.initREF.valuation(),this.$refs.initREF.init()},init:function(){var t=this;return s()(i.a.mark(function e(){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$refs.productREF.productLoading();case 2:n=e.sent,t.$store.commit("saveProducts",n);case 4:case"end":return e.stop()}},e,t)}))()},reload:function(){this.alive=!1,this.$nextTick(function(){this.alive=!0})}}},Ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("home-layout",[t.menu?n("div",{staticClass:"z-max",attrs:{slot:"menu"},slot:"menu"},[n("qiong-app-bar-trigger",{on:{btn_Father:function(e){return t.$refs.menu.opened()}}}),t._v(" "),n("left-app-drawers",{ref:"menu",staticClass:"menu"})],1):t._e(),t._v(" "),t.$store.state.loading?n("home-loading",{attrs:{slot:"content"},slot:"content"}):n("div",{attrs:{slot:"content"},slot:"content"},[n("init-app",{ref:"initREF"}),t._v(" "),t.$store.state.is_browser?t._e():n("active-shimmer",{attrs:{active:t.member_area}}),t._v(" "),n("transition",{attrs:{name:t.transitionName}},[t.alive?n("router-view"):n("home-loading")],1),t._v(" "),n("products-loading",{ref:"productREF"}),t._v(" "),n("loading-trigger",{on:{loading_Father:t.initData}}),t._v(" "),n("home-modals"),t._v(" "),n("home-refreshing")],1)],1)},staticRenderFns:[]};var Mt=n("VU/8")(Ot,Ut,!1,function(t){n("vPHa")},"data-v-3a6e0480",null);e.default=Mt.exports},nEfC:function(t,e){},onGj:function(t,e){},pNOO:function(t,e){},rbjZ:function(t,e,n){"use strict";var r=n("oKCz"),i=n("jOJ2"),a=n("k0Vh"),s={props:{_bonus:Object,_me:Object},components:{LevelViewing:i.a,QiongLoading:r.a,LadBonus:a.a}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fs-12"},[n("div",{staticClass:"qiong-td"},[t._bonus?n("div",{staticClass:"qiong-wide-50 pr-0"},[n("div",[t._v("\n                "+t._s(t.$t("USER.member_code"))+"："+t._s(t.view.if_def(t._bonus.user.member_code))+"\n            ")]),t._v(" "),n("div",{staticClass:"txt-capit"},[t._v("\n                "+t._s(t.$t("USER.member_username"))+"："+t._s(t.view.if_def(t._bonus.user.display_name))+"\n            ")])]):n("div",{staticClass:"qiong-wide-50 pr-0"},[n("div",[t._v("\n                "+t._s(t.$t("USER.member_code"))+"："+t._s(t._me.member_code)+"\n            ")]),t._v(" "),n("div",{staticClass:"txt-capit"},[t._v("\n                "+t._s(t.$t("USER.member_username"))+"："+t._s(t._me.display_name)+"\n            ")])]),t._v(" "),n("div",{staticClass:"qiong-wide-50 pr-0"},[n("lad-bonus",{attrs:{_bs:t._bonus,_mine:t._me}})],1)])])},staticRenderFns:[]};var c=n("VU/8")(s,o,!1,function(t){n("T6Ku")},"data-v-6028eb48",null);e.a=c.exports},rpQk:function(t,e){},vPHa:function(t,e){},xuzA:function(t,e){},zkBg:function(t,e){}});
//# sourceMappingURL=1.ce68a97188ddf6d596de.js.map