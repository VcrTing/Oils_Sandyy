webpackJsonp([8],{"3O7o":function(t,n){},ASGf:function(t,n){},BdAK:function(t,n){},DlnU:function(t,n){},JYok:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("Xxa5"),i=e.n(s),a=e("exGp"),r=e.n(a),o=e("pqT/"),c=e("OhMI"),u=e("IB0D"),l=e("zDkF"),d=e("GWal"),v=e("x/bc"),p={name:"",components:{CompanyNamedViewing:d.a,ProductNameViewing:v.a,QiongEmpty:l.a},props:{items:Array}},f={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.items&&t.items.length>0?e("div",t._l(t.items,function(n,s){return e("div",{key:s,staticClass:"qiong-td td-center"},[e("div",{staticClass:"qiong-wide-5 tb-in-img"},[n.product?e("img",{staticClass:"img",attrs:{src:n.product.product_image}}):t._e()]),t._v(" "),e("div",{staticClass:"qiong-wide-13 pl-2"},[t._v("\n                "+t._s(n.product.sku)+"\n        ")]),t._v(" "),e("div",{staticClass:"qiong-wide-17 pl-2"},[n.product?e("product-name-viewing",{attrs:{product:n.product}}):t._e()],1),t._v(" "),e("div",{staticClass:"qiong-wide-9"},[t._v("\n        "+t._s(n.order)+"\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-8"},[n.stock_location?e("company-named-viewing",{staticClass:"qiong-txt-10",attrs:{named:n.stock_location}}):t._e()],1),t._v(" "),e("div",{staticClass:"qiong-wide-7"},[t._v("\n            "+t._s(n.original_quantity)+" \n            "),n.original_quantity<=0?e("span",{class:{num_less:n.original_quantity<=0}},[t._v("（缺貨）")]):t._e()]),t._v(" "),e("div",{staticClass:"qiong-wide-8 pl-2"},[t._v("\n            "+t._s(n.difference)+"\n        ")]),t._v(" "),e("div",{staticClass:"qiong-wide-10"}),t._v(" "),e("div",{staticClass:"qiong-wide-12"},[t._v("\n            "+t._s(t.view.ser_timed(n.date,!1,!1))+"\n        ")]),t._v(" "),e("div",{staticClass:"qiong-wide-10"})])}),0):e("qiong-empty",{staticClass:"qiong-pt-20"})},staticRenderFns:[]};var _=e("VU/8")(p,f,!1,function(t){e("zlh8")},"data-v-be64d152",null).exports,m={name:"",props:{_count:Number,_limit:Number},data:function(){return{now:1,pages:0}},mounted:function(){this._num_pages()},watch:{now:function(t,n){this.$emit("page_Father",(t-1)*this._limit,this._limit*t)}},methods:{_num_pages:function(){var t=Math.ceil(this._count/this._limit);this.pages=t||1},go:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t=t||document.getElementById("inpREF").value,this._next(t)},_next:function(t){t=null!=t?t:1,t=(t=(t=isNaN(t)?1:t)<=0?this.pages:t)>this.pages?1:t,this.now=t,document.getElementById("inpREF").value=t}}},h={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",{staticClass:"pager"},[e("li",{staticClass:"btn-filter",on:{click:function(n){return t._next(t.now-1)}}},[t._v("上一页")]),t._v(" "),e("li",{staticClass:"btn-filter pager_fly"},[e("input",{attrs:{type:"text",id:"inpREF"},domProps:{value:t.now},on:{change:function(n){return t.go()}}}),e("span",[t._v("/ "+t._s(t.pages))])]),t._v(" "),e("li",{staticClass:"btn-filter",on:{click:function(n){return t._next(t.now+1)}}},[t._v("下一页")])])},staticRenderFns:[]};var g=e("VU/8")(m,h,!1,function(t){e("MQc+")},"data-v-4311571e",null).exports,w=e("PJh5"),x=e.n(w),C={name:"",props:["_plus"],data:function(){return{timed:!0}},watch:{timed:function(t,n){this.sortTimed(t)}},methods:{sortTimed:function(t){this.$emit("sort",function(n,e){return e.sort(function(n,e){return t?x()(e.date).diff(n.date):x()(n.date).diff(e.date)})})}}},k={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"qiong-tr qiong-txt-tr pager-header-in-table"},[e("div",{staticClass:"qiong-wide-5"},[t._v("\n         \n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-13 pl-2"},[t._v("\n        SKU\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-17 pl-2"},[t._v("\n        產品中文名\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-9"},[t._v("\n        所屬訂單\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-8"},[t._v("\n        取貨倉庫\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-7"},[t._v("\n        原庫存\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-8 pl-2"},[t._v("\n        變更量\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-10"},[t._v("\n        操作類型\n    ")]),t._v(" "),t._plus?t._e():e("div",{staticClass:"qiong-wide-12"},[t._v("\n        處理時間\n        "),e("v-icon",{staticClass:"qiong-txt-16 hand",class:{rote:!t.timed,"txt-sus":t.timed},on:{click:function(n){t.timed=!t.timed}}},[t._v("mdi-sort-reverse-variant")])],1),t._v(" "),e("div",{staticClass:"qiong-wide-10"},[t._v("\n        備註\n    ")])])},staticRenderFns:[]};var q=e("VU/8")(C,k,!1,function(t){e("NELj")},"data-v-c40180b0",null).exports,b=e("YPBt"),F=e("jwlD"),y={components:{DateSelect:b.a,LineFormWrapper:F.a},name:"",props:{_funnl:Object},data:function(){return{funnel:{user:"",named:"",date_gte:"",date_lt:""},loading:!0}},mounted:function(){this.reset()},methods:{fresh:function(){},submit:function(){var t={};for(var n in this.funnel.named=this.$refs.nameInput.value(),this.funnel)this.funnel[n]&&("named"==n?t["product.translation_contains"]=this.funnel[n]:t[n]=this.funnel[n]);this.$emit("submit_Father",t)},reset:function(){this.$refs.nameInput.def(""),this.funnel.user="",this.funnel.named=this.$refs.nameInput.value(),this.funnel.date_lt=this.view.getToday(),this.funnel.date_gte=this.$store.state.chronus.start,this.submit(),this.loading=!1}}},E={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-row",{staticClass:"bar-filter px-7 my-1"},[e("div",{staticClass:"mobie-show pt-3"}),t._v(" "),e("div",{staticClass:"v_col qiong-pt-15"},[e("div",{staticClass:"d-ib"},[e("label",[t._v("處理日期")]),t._v(" "),e("div",{staticClass:"input-time"},[t.loading?e("input",{attrs:{type:"text",placeholder:"起始時間"}}):e("date-select",{attrs:{date:t.funnel.date_gte},on:{timed_Father:function(n){return t.funnel.date_gte=n}}})],1),t._v(" "),e("span",{staticClass:"bf_sub"},[t._v("至")]),t._v(" "),e("div",{staticClass:"input-time"},[t.loading?e("input",{attrs:{type:"text",placeholder:"結束時間"}}):e("date-select",{attrs:{date:t.funnel.date_lt},on:{timed_Father:function(n){return t.funnel.date_lt=n}}})],1)]),t._v(" "),e("div",{staticClass:"mobie-show pt-4"}),t._v(" "),e("line-form-wrapper",{ref:"nameInput",staticClass:"pc-pl-4",attrs:{placeholder:"中文或英文均可"}},[t._v("\n            產品名稱：\n        ")]),t._v(" "),e("div",{staticClass:"mobie-show pt-4"}),t._v(" "),e("button",{staticClass:"submit",on:{click:t.submit}},[e("v-icon",[t._v("mdi-filter-outline")]),t._v("\n            篩選\n        ")],1),t._v(" "),e("button",{staticClass:"txt-acc_sub",on:{click:t.reset}},[e("v-icon",[t._v("mdi-reload")]),t._v("\n            重置\n        ")],1)],1)])},staticRenderFns:[]};var R=e("VU/8")(y,E,!1,function(t){e("sFmz")},"data-v-83d0f7fa",null).exports,$=e("/LGW"),S=e("TdNa"),P=e("oKCz"),U=e("Um5R"),N={name:"",data:function(){return{}},methods:{_count:function(t,n){var e=this;return r()(i.a.mark(function s(){return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e.conn.get(e.api.build(e.conf.ENDPOINT[t]+"/count"),e.$store.state.token,n);case 2:if(!(n=s.sent)){s.next=5;break}return s.abrupt("return",n);case 5:case"end":return s.stop()}},s,e)}))()},count:function(t){var n=this,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return r()(i.a.mark(function s(){return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return"stock"==t&&(t="browse_log_stock"),s.abrupt("return",n._count(t,e));case 2:case"end":return s.stop()}},s,n)}))()}}},V={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var T=e("VU/8")(N,V,!1,function(t){e("t5xu")},"data-v-5f5a7c46",null).exports,L=e("1R8D"),D={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"qiong-txt-12"},[e("div",{staticClass:"d-ib mr-3"},[e("button",{staticClass:"btn-sec-thin btn-in-plus bg-none py-1",on:{click:function(n){return t.$emit("plus_Father")}}},[e("v-icon",{staticClass:"qiong-txt-14"},[t._v("mdi-plus")]),t._v("\n            新增記錄\n        ")],1)]),t._v(" "),t._l(t.filter,function(n,s){return e("button",{key:s,staticClass:"btn-filter",class:{"btn-filter_active":t.option==n.v},on:{click:function(e){return t.switching(n.v)}}},[t._v("\n        "+t._s(n.txt)+"\n    ")])})],2)},staticRenderFns:[]};var I=e("VU/8")({name:"",data:function(){return{option:0,filter:[]}},methods:{switching:function(t){this.option=t,this.$emit("sign_Father",t)}}},D,!1,function(t){e("vK9S")},"data-v-5cc1a722",null).exports,B=e("gBtx"),O=e.n(B),Q={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("select",{directives:[{name:"model",rawName:"v-model",value:t.now,expression:"now"}],on:{change:[function(n){var e=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.now=n.target.multiple?e:e[0]},function(n){return t.$emit("change_Father",t.now)}]}},t._l(t.invens,function(n,s){return e("option",{key:s,domProps:{value:n}},[t._v("\n        "+t._s(n.txt)+"\n    ")])}),0)},staticRenderFns:[]};var K=e("VU/8")({name:"",data:function(){return{now:null,invens:[{txt:"加貨(增加)",v:"加貨",typed:0,add:!0},{txt:"減貨(減去)",v:"減貨",typed:1,add:!1},{txt:"樣品消耗(減去)",v:"樣品消耗",typed:3,add:!1},{txt:"壞貨(減去)",v:"壞貨",typed:4,add:!1}]}},mounted:function(){this.now=this.invens[0]}},Q,!1,function(t){e("L+T9")},"data-v-6616c569",null).exports,j={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("select",{directives:[{name:"model",rawName:"v-model",value:t.now,expression:"now"}],on:{change:[function(n){var e=Array.prototype.filter.call(n.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.now=n.target.multiple?e:e[0]},t.fanhui]}},t._l(t.invens,function(n,s){return e("option",{key:s,domProps:{value:n}},[t._v("\n        "+t._s(n.txt)+"\n    ")])}),0)},staticRenderFns:[]};var z=e("VU/8")({name:"",data:function(){return{now:null,invens:[{txt:"尖沙咀倉庫",v:"尖沙咀",typed:0,sort_code:"TST_centre"},{txt:"火炭倉庫",v:"火炭",typed:1,sort_code:"FT_warehouse"}]}},mounted:function(){this.now=this.invens[0]},methods:{fanhui:function(){this.$emit("change_Father",this.now)}}},j,!1,function(t){e("Sin3")},"data-v-31b86a84",null).exports,A={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},G={components:{FunPros:e("VU/8")({computed:{src:function(){var t=this.$store.state.products;if(t)return t.map(function(t){return t.named="",t.translation&&t.translation.map(function(n){t.named+=n.product_name}),t})}},methods:{inn:function(t,n){return n.filter(function(n){return n.indexOf(t)>=0}).length>0},search:function(t){var n=this;return this.src.filter(function(e){return n.inn(t,[e.sku,e.named])})}}},A,!1,null,null,null).exports},props:["vid"],data:function(){return{q:"",show:!1,msg:"",pro:{name:"孝姜 複合精華"},pros:[]}},watch:{q:function(t,n){t!=n&&this.fetchPro(t)}},methods:{fetchPro:function(t){var n=this.$refs.prosREF.search(t);n&&n.length<12?(this.msg="",this.pros=n,this.show=n.length>0):this.msg="請輸入更多的關鍵詞。"},openChoise:function(){this.q.length>1&&(this.show=this.pros.length>0)},close:function(){var t=this;setTimeout(function(n){return t.show=!1},400)},choise:function(t){this.pro=t,this.q="["+t.sku+"] "+t.translation[0].product_name,this.show=!1,this.$emit("choise",t)}}},W={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"ps-r w-100"},[e("div",{staticClass:"pro-choise-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.q,expression:"q"}],staticClass:"w-100",class:{"input-error":!t.vid},attrs:{type:"text",placeholder:"請輸入SKU或產品名稱進行搜索"},domProps:{value:t.q},on:{focus:t.openChoise,blur:t.close,change:t.openChoise,keyup:function(n){return!n.type.indexOf("key")&&t._k(n.keyCode,"enter",13,n.key,"Enter")?null:t.openChoise(n)},input:function(n){n.target.composing||(t.q=n.target.value)}}})]),t._v(" "),t.show?e("nav",{staticClass:"w-100 pro-choise"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!t.msg,expression:"!msg"}],staticClass:"ani_upper"},t._l(t.pros,function(n,s){return e("div",{key:s,staticClass:"pro-choise-item qiong-td fx-l"},[e("div",{staticClass:"qiong-wide-20"},[e("img",{attrs:{src:n.product_image}})]),t._v(" "),e("div",{staticClass:"qiong-wide-60"},[n.translation&&n.translation[1]?e("span",[t._v("\n                        "+t._s(n.translation[1].product_name)+"\n                    ")]):e("span",[t._v("\n                        產品 sku: "+t._s(n.sku)+"\n                    ")])]),t._v(" "),e("div",{staticClass:"qiong-wide-20 t-r"},[e("button",{staticClass:"btn-sec-txt px-1",on:{click:function(e){return t.choise(n)}}},[t._v("選擇")])])])}),0),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.msg,expression:"msg"}],staticClass:"py-6 fx-c ani_upper"},[t._v(" "+t._s(t.msg)+" ")])]):t._e(),t._v(" "),e("fun-pros",{ref:"prosREF"})],1)},staticRenderFns:[]};var M=e("VU/8")(G,W,!1,function(t){e("ASGf")},"data-v-0e55ff50",null).exports,H=e("7WXZ"),X={methods:{one:function(t){var n=this;return r()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.conn.ex_get(n,"products",{id:t});case 2:if(!(s=e.sent)){e.next=5;break}return e.abrupt("return",s?s[0]:null);case 5:case"end":return e.stop()}},e,n)}))()}}},J={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},Z=e("VU/8")(X,J,!1,null,null,null).exports,Y={methods:{plus:function(t){var n=this;return r()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.conn.ex_post("stock_wp_update",t);case 2:(s=e.sent)&&console.log("新增 RES =",s);case 4:case"end":return e.stop()}},e,n)}))()}}},tt={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},nt=e("VU/8")(Y,tt,!1,null,null,null).exports,et={components:{QiongImage:H.a,ProInventSelect:z,ProInventOperaSelect:K,ProSearchWithChoise:M,NetProducts:Z,NetStock:nt,QiongLoading:P.a},name:"",data:function(){return{pro:null,opera:null,invens:0,stock:null,num:"",remark:"",form_vid:{pro:!0,num:!0},success:0}},watch:{num:function(t,n){var e=O()(t);this.valid(),this.num=e&&e>0?e:0},pro:function(t,n){var e=this;return r()(i.a.mark(function n(){var s;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(e.invens=0,!t||!t.id){n.next=7;break}return e.invens=-1,n.next=5,e.$refs.productREF.one(t.id);case 5:(s=n.sent)&&(e.invens=0,s.stock&&s.stock.map(function(t){e.invens+=O()(t.in_stock)}),e.valid());case 7:case"end":return n.stop()}},n,e)}))()}},methods:{collct:function(){return this.stock=this.$refs.stockREF.now,this.opera=this.$refs.operaREF.now,this.stock.quantity=this.opera.add?this.num:0-this.num,this.valid()?{product_sku:this.pro.sku,stock:[this.stock]}:null},valid:function(){return this.form_vid.pro=!(!this.pro||!this.pro.sku),this.form_vid.num=!!(this.num&&this.num>0),this.form_vid.pro&&this.form_vid.num},save:function(){var t=this;return r()(i.a.mark(function n(){var e;return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=t.collct())){n.next=7;break}return t.success=0,n.next=5,t.$refs.netStockREF.plus(e);case 5:n.sent&&(t.success=1,setTimeout(function(n){return t.$emit("refresh")},400));case 7:case"end":return n.stop()}},n,t)}))()}}},st={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"input-in-table-wrapper py-3 pt-5 px-7 time"},[e("div",{staticClass:"qiong-td qiong-txt-td fx-l"},[e("div",{staticClass:"qiong-wide-5 tb-in-img"},[t.pro?e("img",{staticClass:"img",attrs:{src:t.pro.product_image}}):t._e()]),t._v(" "),e("div",{staticClass:"qiong-wide-30 pl-2"},[e("pro-search-with-choise",{attrs:{vid:t.form_vid.pro},on:{choise:function(n){return t.pro=n}}})],1),t._v(" "),e("div",{staticClass:"qiong-wide-9 pr-0 txt-sus"},[t._v("\n            (無法編輯)\n        ")]),t._v(" "),e("div",{staticClass:"qiong-wide-8"},[e("pro-invent-select",{ref:"stockREF"})],1),t._v(" "),e("div",{staticClass:"qiong-wide-7 pr-0"},[t.pro?e("nav",[-1==t.invens?e("qiong-loading",{attrs:{bigger:-1}}):e("span",[t._v(t._s(t.invens)+" (件)")])],1):e("span",[t._v("(自動檢索)")])]),t._v(" "),e("div",{staticClass:"qiong-wide-8 pl-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.num,expression:"num"}],class:{"input-error":!t.form_vid.num},attrs:{type:"text",placeholder:"請輸入"},domProps:{value:t.num},on:{input:function(n){n.target.composing||(t.num=n.target.value)}}})]),t._v(" "),e("div",{staticClass:"qiong-wide-10"},[e("pro-invent-opera-select",{ref:"operaREF"})],1),t._v(" "),e("div",{staticClass:"qiong-wide-22"},[e("div",{staticClass:"qiong-td fx-l"},[e("div",{staticClass:"qiong-wide-50 d-ib"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.remark,expression:"remark"}],attrs:{type:"text",placeholder:"請輸入備註"},domProps:{value:t.remark},on:{input:function(n){n.target.composing||(t.remark=n.target.value)}}})]),t._v(" "),e("div",{staticClass:"qiong-wide-50 t-r pr-0"},[0==t.success?e("nav",[e("button",{staticClass:"submit btn-save fw-b",on:{click:function(n){return t.save()}}},[t._v("\n                                儲存\n                            ")]),t._v(" "),e("button",{staticClass:"btn-cancel ml-3 txt-sub",on:{click:function(n){return t.$emit("cancel_Father")}}},[t._v("\n                                關閉\n                            ")])]):t._e(),t._v(" "),1==t.success?e("nav",{staticClass:"an_lefter hand",on:{click:function(n){return t.$emit("cancel_Father")}}},[e("p",{staticClass:"txt-succ"},[t._v("新增成功！")])]):t._e()])])])]),t._v(" "),e("net-stock",{ref:"netStockREF"}),t._v(" "),e("net-products",{ref:"productREF"})],1)},staticRenderFns:[]};var it=e("VU/8")(et,st,!1,function(t){e("LfZK")},"data-v-c031fb80",null).exports,at=e("RROz"),rt={name:"",components:{CompanyNamedViewing:d.a,ProductNameViewing:v.a},props:["v"]},ot={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"qiong-td td-center"},[e("div",{staticClass:"qiong-wide-5 tb-in-img"},[t.v.product?e("img",{staticClass:"img",attrs:{src:t.v.product.product_image}}):t._e()]),t._v(" "),e("div",{staticClass:"qiong-wide-13 pl-2"},[t._v("\n            "+t._s(t.v.product.sku)+"\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-17 pl-2"},[t.v.product?e("product-name-viewing",{attrs:{product:t.v.product}}):t._e()],1),t._v(" "),e("div",{staticClass:"qiong-wide-9"},[t.v.order?e("span",[t._v(t._s(t.v.order))]):e("span",{staticClass:"txt-sus"},[t._v("(非訂單操作)")])]),t._v(" "),e("div",{staticClass:"qiong-wide-8"},[t.v.stock_location?e("company-named-viewing",{staticClass:"qiong-txt-10",attrs:{named:t.v.stock_location}}):t._e()],1),t._v(" "),e("div",{staticClass:"qiong-wide-7"},[t._v("\n        "+t._s(t.v.original_quantity)+" \n        "),t.v.original_quantity<=0?e("span",{class:{num_less:t.v.original_quantity<=0}},[t._v("（缺貨）")]):t._e()]),t._v(" "),e("div",{staticClass:"qiong-wide-8 pl-2"},[t._v("\n        "+t._s(t.v.difference)+"\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-10"}),t._v(" "),e("div",{staticClass:"qiong-wide-12"},[t._v("\n        "+t._s(t.view.ser_timed(t.v.date,!1,!1))+"\n    ")]),t._v(" "),e("div",{staticClass:"qiong-wide-10"})])},staticRenderFns:[]};var ct={components:{StockRExHeader:e("VU/8")(rt,ot,!1,function(t){e("lSr2")},"data-v-4362f244",null).exports,QiongEmpty:l.a},name:"",props:["records"],data:function(){return{}}},ut={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.records&&t.records.length>0?e("div",t._l(t.records,function(n,s){return e("v-expansion-panels",{key:s,staticClass:"qiong-td qiong-br-0 w-full qiong-ex-panels py-0",attrs:{flat:"",accordion:""}},[e("v-expansion-panel",{staticClass:"qiong-br-0"},[e("v-expansion-panel-header",{staticClass:"qiong-txt-td qiong-td-exp"},[e("stock-r-ex-header",{staticClass:"px-7 pt-2",attrs:{v:n}})],1),t._v(" "),e("v-expansion-panel-content",{staticClass:"qiong-txt-td"})],1)],1)}),1):e("qiong-empty")},staticRenderFns:[]};var lt=e("VU/8")(ct,ut,!1,function(t){e("BdAK")},"data-v-b6a945fe",null).exports,dt={name:"",components:{QiongPanelElement:c.a,StockRecordsBody:_,QiongSpace:U.a,StockRecordsLogoHeader:q,WidgetLogoStock:o.a,QiongLoading:P.a,QiongSubResult:S.a,StockTopBar:R,TablePagerFooter:u.a,QiongHeaderFilter:$.a,StockRecordPager:g,WidgetCount:T,Pagenation:L.a,StockTopFilter:I,ProStockPlus:it,PdfIndex:at.a,StockRecordsExpanel:lt},data:function(){return{total:0,plus:!1,limit:60,count:0,funnl:{sku:"",user:"",date_lt:"",date_gte:""},top:{star:"",end:""},logos:[],logos_origin:[],loading:!0}},mounted:function(){},computed:{pdf_data:function(){return{tops:this.top,items:this.logos_origin}},footer:function(){return[{txt:"庫存總計",content:this.total}]}},methods:{sortRecords:function(t){this.logos_origin=t(this.logos,this.logos_origin),this.$refs.pageREF.now=1,this.sliceData()},insert_Top:function(t){this.top={start:t.date_gte,end:t.date_lt}},stockLoading:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.total=0,t.loading=!0,t.insert_Top(n),e.next=5,t.$refs.stockREF.lunch(n);case 5:(n=e.sent)&&(t.count=n.length,t.logos_origin=n.map(function(n){return t.total+=n.original_quantity,n}),t.sliceData(),t.loading=!1);case 7:case"end":return e.stop()}},e,t)}))()},sliceData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.limit;this.logos=this.logos_origin.slice(t,n),console.log("库存记录 =",this.logos_origin)},plusFinish:function(){this.plus=!1,this.$refs.topBarREF.submit()}}},vt={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{staticClass:"qiong-txt-td",attrs:{fluid:""}},[e("stock-top-bar",{ref:"topBarREF",attrs:{_funnl:t.funnl},on:{submit_Father:t.stockLoading}}),t._v(" "),e("qiong-header-filter",{staticClass:"bg-none mt-0"},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("庫存操作記錄")]),t._v(" "),e("div",{attrs:{slot:"filter"},slot:"filter"},[e("stock-top-filter",{on:{plus_Father:function(n){t.plus=!0}}})],1)]),t._v(" "),e("qiong-panel-element",{staticClass:"mobie-table",attrs:{need_space:!1}},[e("div",{staticClass:"ps-r"},[e("stock-records-logo-header",{staticClass:"px-7",attrs:{_plus:t.plus},on:{sort:t.sortRecords}}),t._v(" "),t.plus?e("pro-stock-plus",{class:{"iitw-active":t.plus,"iitw-hide":!t.plus},on:{cancel_Father:function(){return t.plus=!1},refresh:t.plusFinish}}):t._e()],1),t._v(" "),t.loading?e("qiong-loading",{staticClass:"qiong-mt-20",attrs:{bigger:1}}):e("stock-records-expanel",{attrs:{records:t.logos}}),t._v(" "),e("qiong-space",{attrs:{space:"2vw"}})],1),t._v(" "),e("div",{staticClass:"fx-c mt-3 qiong-pt-10"},[t.loading?t._e():e("pagenation",{ref:"pageREF",attrs:{_limit:t.limit,_count:t.count},on:{page_Father:t.sliceData}})],1),t._v(" "),e("qiong-space",{attrs:{space:"7vh"}}),t._v(" "),e("table-pager-footer"),t._v(" "),e("widget-count",{ref:"countREF"}),t._v(" "),e("widget-logo-stock",{ref:"stockREF"})],1)},staticRenderFns:[]};var pt=e("VU/8")(dt,vt,!1,function(t){e("DlnU")},"data-v-5261b984",null);n.default=pt.exports},"L+T9":function(t,n){},LfZK:function(t,n){},"MQc+":function(t,n){},NELj:function(t,n){},Sin3:function(t,n){},jwlD:function(t,n,e){"use strict";var s={name:"",props:{placeholder:String,ex_class:{type:String,default:"pr-1"}},data:function(){return{v:""}},methods:{value:function(){return this.v=this.v?this.v:"",this.v.trim()},def:function(t){this.v=t}}},i={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"form-wrapper"},[e("div",{staticClass:"form-input"},[e("label",{class:t.ex_class},[t._t("default")],2),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.v,expression:"v"}],staticClass:"input-beauty",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.v},on:{input:function(n){n.target.composing||(t.v=n.target.value)}}})])])},staticRenderFns:[]};var a=e("VU/8")(s,i,!1,function(t){e("3O7o")},"data-v-081344b4",null);n.a=a.exports},lSr2:function(t,n){},"pqT/":function(t,n,e){"use strict";var s=e("Xxa5"),i=e.n(s),a=e("exGp"),r=e.n(a),o={name:"",data:function(){return{}},methods:{lunch:function(t){var n=this;return r()(i.a.mark(function e(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.view.getToday(),(t=t||{date_lte:s})._sort="date:DESC",t._limit=300,e.next=6,n.conn.get(n.api.browse_log_stock,n.$store.state.token,t);case 6:if(!(t=e.sent)||!t.message){e.next=9;break}return e.abrupt("return",t.message);case 9:case"end":return e.stop()}},e,n)}))()}}},c={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var u=e("VU/8")(o,c,!1,function(t){e("y2yL")},"data-v-59e48e8f",null);n.a=u.exports},sFmz:function(t,n){},t5xu:function(t,n){},vK9S:function(t,n){},"x/bc":function(t,n,e){"use strict";var s=e("//Fk"),i=e.n(s),a=e("Xxa5"),r=e.n(a),o=e("exGp"),c=e.n(o),u={name:"",props:{id:{type:Number},product:{type:Object}},data:function(){return{named:"&nbsp;"}},computed:{},mounted:function(){var t=this;return c()(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.$store.state.products){n.next=4;break}return n.next=3,t.nameFind();case 3:t.named=n.sent;case 4:case"end":return n.stop()}},n,t)}))()},methods:{nameFind:function(){var t=this;return new i.a(function(n,e){var s="";t.$store.state.products.map(function(n){n.id==t.product.id&&(n.translation&&n.translation.length>1?n.translation.map(function(n){n.language_key.toUpperCase()==t.$store.state.lang&&(s=n.product_name)}):s=n.translation[0].product_name)}),n(s)})}}},l={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{domProps:{innerHTML:this._s(this.named)}})},staticRenderFns:[]},d=e("VU/8")(u,l,!1,null,null,null);n.a=d.exports},y2yL:function(t,n){},zlh8:function(t,n){}});
//# sourceMappingURL=8.702bc6fa7fc10bbfb006.js.map