{"version":3,"sources":["webpack:///src/pages/MemberChange/Form/Plus/Inner/FMlpForm.vue","webpack:///./src/pages/MemberChange/Form/Plus/Inner/FMlpForm.vue?609b","webpack:///./src/pages/MemberChange/Form/Plus/Inner/FMlpForm.vue","webpack:///src/pages/MemberChange/Form/Plus/FormMcLpPlus.vue","webpack:///./src/pages/MemberChange/Form/Plus/FormMcLpPlus.vue?46ea","webpack:///./src/pages/MemberChange/Form/Plus/FormMcLpPlus.vue"],"names":["FMlpForm","components","DateSelect","WidgetUserByMemberCode","DialogAlert","QiongSpace","computed","num_res","this","user","lp_wallet","LP","LP_available","res","funnel","is_add","view","floatAdd","num","floatSub","data","user_loading","msg","date","mark","hour","minuts","member_code","changer","loading","mounted","reset","methods","geneTimed","long","arguments","length","undefined","i","push","reciveDate","v","_this","o","getToday","judge_date","setTimeout","e","validHour","validMark","validCode","rec","parse_int_default","floatRES","parse_float_default","toFixed","validNum","fetchingUser","_this2","asyncToGenerator_default","regenerator_default","a","_callee","wrap","_context","prev","next","$refs","userREF","fecthingUser","sent","setUser","stop","_this3","submit","_this4","_this5","Inner_FMlpForm","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","cols","sm","_v","directives","name","rawName","value","expression","type","placeholder","domProps","on","change","input","$event","target","composing","$set","_s","display_name","$$selectedVal","Array","prototype","filter","call","options","selected","map","_value","multiple","col","timed_Father","ref","space","_e","staticRenderFns","Plus_Inner_FMlpForm","__webpack_require__","normalizeComponent","FormMcLpPlus","McFormPageLayout","$store","state","user_backend","formREF","_params","conn","post","api","admin_wallet_lp_add","token","$router","LP_change","remark","Plus_FormMcLpPlus","header","back_Father","click","FormMcLpPlus_Component","FormMcLpPlus_normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/35.1d3bd1b42b5faad5fc0e.js","sourcesContent":["<template>\n    <form class=\"form-def\">\n\n        <v-row>\n            <v-col cols=\"12\" :sm=\"5\">\n                <label>用戶編號</label>\n                <input type=\"text\" v-model=\"funnel.member_code\" @change=\"fetchingUser\" placeholder=\"請輸入用戶的編號\">\n            </v-col>\n            <v-col cols=\"12\" :sm=\"7\">\n                <label>用戶名稱</label>\n                \n                <div class=\"fx-l input input-fix fx-l\">\n                    <p v-if=\"!user_loading\">\n                        <span v-if=\"user\">\n                            <v-icon class=\"qiong-txt-16\">mdi-account-circle-outline</v-icon>\n                            <span>{{ user.display_name }}</span>\n                        </span>\n                        <span v-else>(自動檢索)</span>\n                    </p>\n                    <v-icon v-else class=\"qiong-txt-18 ani-rotate loading\">mdi-loading</v-icon>\n                </div>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col cols=\"12\" :sm=\"4\">\n                <label class=\"txt-pri\">更改LP積分</label>\n                <nav class=\"input-with-icon input-with-select\">\n                    <!--v-icon class=\"qiong-txt-16 i-fix\">mdi-plus</!--v-icon-->\n\n                    <select class=\"input-air i\" v-model=\"funnel.is_add\">\n                        <option :value=\"true\">+&nbsp;&nbsp;增加</option>\n                        <option :value=\"false\">-&nbsp;&nbsp;減去</option>\n                    </select>\n                    <input type=\"number\" v-model=\"funnel.num\" placeholder=\"請輸入正數\" @change=\"floatRES\">\n                    <span>\n                        LP\n                    </span>\n                </nav>\n            </v-col>\n            <v-col cols=\"12\" :sm=\"8\">\n                <label>積分結果</label>\n                <div class=\"input input-fix\">\n                    <div v-if=\"!user_loading\">\n                        <p v-if=\"user && user.lp_wallet\" class=\"txt-money\">\n                            {{ user.lp_wallet.LP_available }}&nbsp;&nbsp;LP\n                            <span class=\"txt-sus pl-1\">{{ funnel.is_add ? '+' : '-' }}</span>\n                            &nbsp;&nbsp;{{ this.funnel.num ? this.funnel.num : 0 }}\n                            <span class=\"txt-sus pl-1\">=</span>\n                            &nbsp;&nbsp;{{ num_res }}&nbsp;&nbsp;LP\n                        </p>\n                        <span v-else>(自動計算) </span>\n                    </div>\n                    <v-icon v-else class=\"qiong-txt-18 ani-rotate loading\">mdi-loading</v-icon>\n                </div>\n            </v-col>\n        </v-row>\n        <v-row>\n            <v-col col=\"8\" :sm=\"4\" class=\"input-time\">\n                <label>入賬日期</label>\n                <date-select v-if=\"!loading\" :date=\"funnel.date\" @timed_Father=\"reciveDate\"></date-select>\n                <div v-else class=\"input fx-c w-100\">\n                    <v-icon class=\"qiong-txt-18 ani-rotate_s loading\">mdi-loading</v-icon>\n                </div>\n            </v-col>\n            <!--v-col col=\"4\" :sm=\"8\">\n                <label class=\"sub\">日期時間</label>\n                <nav class=\"input-timed_tool\">\n                    <select class=\"input\" v-model=\"funnel.hour\" >\n                        <option v-for=\"(v, i) in geneTimed()\" :key=\"i\" :value=\"v\">{{ v }}</option>\n                    </select>\n                    <span class=\"mx-2 fw-b\">:</span>\n                    <select class=\"input\" v-model=\"funnel.minuts\">\n                        <option v-for=\"(v, i) in geneTimed(60)\" :key=\"i\" :value=\"v\">{{ v }}</option>\n                    </select>\n                </nav>\n            </!--v-col-->\n        </v-row>\n\n        <!--v-row>\n            <v-col>\n                <label><span class=\"\">更改人員：{{ $store.state.user_backend.email }}</span>\n                    <!--span>{{ funnel.hour }}:&nbsp;{{ funnel.minuts }}</span>\n                </label>\n            </v-col>\n        </v-row-->\n\n        <v-row>\n            <v-col col=\"12\">\n                <label>備註</label>\n                <input type=\"text\" class=\"input-bg\" v-model=\"funnel.mark\" @change=\"validMark\" placeholder=\"輸入您要備註的文字\">\n            </v-col>\n        </v-row>\n\n        <widget-user-by-member-code ref=\"userREF\"></widget-user-by-member-code>\n\n        <div v-if=\"msg\" class=\"pt-3 qiong-txt-16 anime-later\">\n            <qiong-space :space=\"'0.5vw'\"></qiong-space>\n            <dialog-alert>{{ msg }}</dialog-alert>\n        </div>\n    </form>\n</template>\n\n<script>\nimport WidgetUserByMemberCode from '@/components/Data/Children/WidgetUserByMemberCode.vue'\nimport DateSelect from '@/components/Qiong/Dialog/DateSelect.vue'\nimport QiongSpace from '@/components/Qiong/Ui/QiongSpace.vue'\nimport DialogAlert from '@/components/Shimmer/Alert/DialogAlert.vue'\n    export default {\n  components: { DateSelect, WidgetUserByMemberCode,\n    DialogAlert,\n    QiongSpace },\n        computed: {\n            num_res() {\n                if (this.user && this.user.lp_wallet) {\n                    let LP = this.user.lp_wallet.LP_available\n                    let res = this.funnel.is_add ? \n                        this.view.floatAdd( LP,  this.funnel.num) : \n                        this.view.floatSub( LP,  this.funnel.num)\n                    if (res <= 0) { this.funnel.num = LP; res = 0 }\n                    return res\n                }\n                return 0\n            }\n        },\n        data() {\n            return {\n                user: null,\n                user_loading: false,\n                msg: '',\n\n                funnel: {\n                    date: '',\n                    mark: '',\n                    is_add: true,\n                    num: 10,\n                    hour: 0,\n                    minuts: 0,\n                    member_code: '',\n                    changer: 'ssss@123.com',\n                },\n                loading: true\n            }\n        },\n        mounted() {\n            this.reset()\n        },\n        methods: {\n            geneTimed(long = 24) {\n                let res = [ ]\n                for (let i= 0; i< long; i++ ) { res.push(i) }; return res\n            },\n\n            reciveDate(v) {\n                const o = this.view.getToday()\n                let res = this.view.judge_date( v, o )\n                this.funnel.date = res ? v : o\n                if (!res) {\n                    this.loading = true\n                    setTimeout(e => { this.loading = false }, 600)\n                }\n            },\n\n            validHour() {  },\n            validMark() { },\n            validCode() {\n                let rec = this.funnel.member_code\n                rec = Number.parseInt(rec)\n                rec = (rec && rec >= 203000) ? true : false\n                return rec\n            },\n            floatRES() {\n                let rec = this.funnel.num\n                if (rec) { this.funnel.num = Number.parseFloat(rec).toFixed(2) }\n            },\n            validNum() {\n                let rec = this.funnel.num\n                rec = Number.parseFloat(rec)\n                return (rec && rec != 0) ? true : false\n            },\n            async fetchingUser() {\n                if (this.validCode()) {\n                    this.user_loading = true\n                    let res = await this.$refs.userREF.fecthingUser(this.funnel.member_code)\n                    if (res) { this.setUser(res) }\n                } else { this.setUser(null) }\n            },\n            setUser(res) {\n                this.user_loading = true\n                this.user = res\n                setTimeout(e => this.user_loading = false, 400)\n            },\n            submit() {\n                if (!this.validCode()) { this.msg = '檢測到 用戶編號 為空或輸入有誤，請檢查輸入。' }\n                else if (!this.validNum()) { this.msg = '檢測到 LP積分數字 為空，請檢查輸入。' }\n                else { return this.funnel }\n                setTimeout(e => this.msg = '', 4400)\n            },\n            reset() {\n                this.loading = true\n\n                this.setUser(null)\n                this.funnel = {\n                    date: this.view.getToday(),\n                    mark: '',\n                    num: null,\n                    hour: 23,\n                    minuts: 59,\n                    is_add: true,\n                    member_code: '',\n                    changer: 'ssss@123.com',\n                }\n                \n                setTimeout(e => { this.loading = false }, 400)\n            }\n        }\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/pages/MemberChange/Form/Plus/Inner/FMlpForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{staticClass:\"form-def\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":5}},[_c('label',[_vm._v(\"用戶編號\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.funnel.member_code),expression:\"funnel.member_code\"}],attrs:{\"type\":\"text\",\"placeholder\":\"請輸入用戶的編號\"},domProps:{\"value\":(_vm.funnel.member_code)},on:{\"change\":_vm.fetchingUser,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.funnel, \"member_code\", $event.target.value)}}})]),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":7}},[_c('label',[_vm._v(\"用戶名稱\")]),_vm._v(\" \"),_c('div',{staticClass:\"fx-l input input-fix fx-l\"},[(!_vm.user_loading)?_c('p',[(_vm.user)?_c('span',[_c('v-icon',{staticClass:\"qiong-txt-16\"},[_vm._v(\"mdi-account-circle-outline\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.user.display_name))])],1):_c('span',[_vm._v(\"(自動檢索)\")])]):_c('v-icon',{staticClass:\"qiong-txt-18 ani-rotate loading\"},[_vm._v(\"mdi-loading\")])],1)])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":4}},[_c('label',{staticClass:\"txt-pri\"},[_vm._v(\"更改LP積分\")]),_vm._v(\" \"),_c('nav',{staticClass:\"input-with-icon input-with-select\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.funnel.is_add),expression:\"funnel.is_add\"}],staticClass:\"input-air i\",on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.funnel, \"is_add\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{domProps:{\"value\":true}},[_vm._v(\"+  增加\")]),_vm._v(\" \"),_c('option',{domProps:{\"value\":false}},[_vm._v(\"-  減去\")])]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.funnel.num),expression:\"funnel.num\"}],attrs:{\"type\":\"number\",\"placeholder\":\"請輸入正數\"},domProps:{\"value\":(_vm.funnel.num)},on:{\"change\":_vm.floatRES,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.funnel, \"num\", $event.target.value)}}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n                    LP\\n                \")])])]),_vm._v(\" \"),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":8}},[_c('label',[_vm._v(\"積分結果\")]),_vm._v(\" \"),_c('div',{staticClass:\"input input-fix\"},[(!_vm.user_loading)?_c('div',[(_vm.user && _vm.user.lp_wallet)?_c('p',{staticClass:\"txt-money\"},[_vm._v(\"\\n                        \"+_vm._s(_vm.user.lp_wallet.LP_available)+\"  LP\\n                        \"),_c('span',{staticClass:\"txt-sus pl-1\"},[_vm._v(_vm._s(_vm.funnel.is_add ? '+' : '-'))]),_vm._v(\"\\n                          \"+_vm._s(this.funnel.num ? this.funnel.num : 0)+\"\\n                        \"),_c('span',{staticClass:\"txt-sus pl-1\"},[_vm._v(\"=\")]),_vm._v(\"\\n                          \"+_vm._s(_vm.num_res)+\"  LP\\n                    \")]):_c('span',[_vm._v(\"(自動計算) \")])]):_c('v-icon',{staticClass:\"qiong-txt-18 ani-rotate loading\"},[_vm._v(\"mdi-loading\")])],1)])],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{staticClass:\"input-time\",attrs:{\"col\":\"8\",\"sm\":4}},[_c('label',[_vm._v(\"入賬日期\")]),_vm._v(\" \"),(!_vm.loading)?_c('date-select',{attrs:{\"date\":_vm.funnel.date},on:{\"timed_Father\":_vm.reciveDate}}):_c('div',{staticClass:\"input fx-c w-100\"},[_c('v-icon',{staticClass:\"qiong-txt-18 ani-rotate_s loading\"},[_vm._v(\"mdi-loading\")])],1)],1)],1),_vm._v(\" \"),_c('v-row',[_c('v-col',{attrs:{\"col\":\"12\"}},[_c('label',[_vm._v(\"備註\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.funnel.mark),expression:\"funnel.mark\"}],staticClass:\"input-bg\",attrs:{\"type\":\"text\",\"placeholder\":\"輸入您要備註的文字\"},domProps:{\"value\":(_vm.funnel.mark)},on:{\"change\":_vm.validMark,\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.funnel, \"mark\", $event.target.value)}}})])],1),_vm._v(\" \"),_c('widget-user-by-member-code',{ref:\"userREF\"}),_vm._v(\" \"),(_vm.msg)?_c('div',{staticClass:\"pt-3 qiong-txt-16 anime-later\"},[_c('qiong-space',{attrs:{\"space\":'0.5vw'}}),_vm._v(\" \"),_c('dialog-alert',[_vm._v(_vm._s(_vm.msg))])],1):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3faea733\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/MemberChange/Form/Plus/Inner/FMlpForm.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FMlpForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FMlpForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3faea733\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FMlpForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/MemberChange/Form/Plus/Inner/FMlpForm.vue\n// module id = null\n// module chunks = ","<template>\n    <mc-form-page-layout :header=\"'增加會員 LP 積分'\" @back_Father=\"$router.push('/home/member_operate/lp_plus')\">\n\n        <div>\n            <f-mlp-form ref=\"formREF\"></f-mlp-form>\n        </div>\n\n            <div class=\"fx-c my-3 qiong-pt-15 qiong-txt-14\">\n                <button class=\"btn-pri mx-3 px-5 py-1 round an_lefter\" \n                    @click=\"submit\">\n                    \n                    <v-icon class=\"qiong-txt-16 mr-2\">mdi-check-underline</v-icon>\n                    提交結果\n                </button>\n                <button class=\"mx-3 px-5 py-1 reset round\"\n                    @click=\"reset\">\n                    \n                    <v-icon class=\"qiong-txt-16\">mdi-refresh</v-icon>\n                    重置表單\n                </button>\n            </div>\n    </mc-form-page-layout>\n</template>\n\n<script>\nimport McFormPageLayout from '../Layout/McFormPageLayout.vue'\nimport FMlpForm from './Inner/FMlpForm.vue'\n    export default {\n  components: { McFormPageLayout, FMlpForm },\n        name: '',\n        data() {\n            return {\n                \n            }\n        },\n        computed: {\n            user() {\n                return this.$store.state.user_backend\n            }\n        },\n        methods: {\n            reset() {\n                let res = this.$refs.formREF.reset()\n            },\n            async submit() {\n                let res = this.$refs.formREF.submit()\n                if (res) {\n                    const code = res.member_code\n                    res = this._params(res)\n                    \n                    const result = await this.conn.post(\n                        this.api.admin_wallet_lp_add(res.member_code),\n                        this.$store.state.token,\n                        res\n                    )\n                    if (result) {\n                        setTimeout(e => this.$router.push('/home/member_operate/lp_plus'), 600)\n                    }\n                }\n            },\n\n            _params(res) {\n                return {\n                    date: res.date,\n                    LP_change: (res.is_add ? '' : '-') + res.num,\n                    remark: res.mark,\n                    member_code: res.member_code\n                }\n            }\n        }\n    }\n</script>\n\n<style lang=\"sass\" scoped>\n    \n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/MemberChange/Form/Plus/FormMcLpPlus.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('mc-form-page-layout',{attrs:{\"header\":'增加會員 LP 積分'},on:{\"back_Father\":function($event){return _vm.$router.push('/home/member_operate/lp_plus')}}},[_c('div',[_c('f-mlp-form',{ref:\"formREF\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"fx-c my-3 qiong-pt-15 qiong-txt-14\"},[_c('button',{staticClass:\"btn-pri mx-3 px-5 py-1 round an_lefter\",on:{\"click\":_vm.submit}},[_c('v-icon',{staticClass:\"qiong-txt-16 mr-2\"},[_vm._v(\"mdi-check-underline\")]),_vm._v(\"\\n                提交結果\\n            \")],1),_vm._v(\" \"),_c('button',{staticClass:\"mx-3 px-5 py-1 reset round\",on:{\"click\":_vm.reset}},[_c('v-icon',{staticClass:\"qiong-txt-16\"},[_vm._v(\"mdi-refresh\")]),_vm._v(\"\\n                重置表單\\n            \")],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ec96cb04\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/MemberChange/Form/Plus/FormMcLpPlus.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ec96cb04\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"indentedSyntax\\\":true,\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FormMcLpPlus.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormMcLpPlus.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FormMcLpPlus.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ec96cb04\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FormMcLpPlus.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ec96cb04\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/MemberChange/Form/Plus/FormMcLpPlus.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}