webpackJsonp([3],{"2rio":function(t,n){},J7Nu:function(t,n){},Lo9w:function(t,n){},"NT/l":function(t,n){},XUAK:function(t,n){},aicC:function(t,n,e){t.exports=e.p+"static/img/LOCK.d4e8d30.png"},iO4P:function(t,n){},"iR7+":function(t,n){},"n/G1":function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("Xxa5"),s=e.n(r),a=e("exGp"),i=e.n(a),o=e("gBtx"),c=e.n(o),u=e("mvHQ"),l=e.n(u),d=e("oKCz"),h=e("Um5R"),v={props:{chronu:{type:Object}},name:"",data:function(){return{}},methods:{choiseIt:function(){this.$emit("sign_Father",this.chronu)}}},_={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"w-full chronu def-shadow pa-3"},[e("div",{staticClass:"chronu_name"},[e("v-icon",{attrs:{size:"14"}},[t._v("mdi-calendar-multiple")]),t._v(" "+t._s(t.chronu.display_name)+"\n\n        "),e("button",{staticClass:"btn-sec float-right",on:{click:t.choiseIt}},[t._v("確認選擇")])],1),t._v(" "),e("div",{staticClass:"chronu_start sub-header pl-4"},[t._v("\n        開始："+t._s(t.view.ser_timed(t.chronu.start,!0))+"\n    ")]),t._v(" "),e("div",{staticClass:"chronu_end sub-header pl-4"},[t._v("\n        結束："+t._s(t.view.ser_timed(t.chronu.end,!0))+"\n    ")])])},staticRenderFns:[]};var m=e("VU/8")(v,_,!1,function(t){e("rpQk")},"data-v-4a407b5c",null).exports,f={props:{c_item:{type:Object}},computed:{now:function(){return this.$store.state.chronus}},methods:{choiseIt:function(){this.$emit("sign_Father",this.c_item.chronu)}}},p={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"chronu py-3 pl-7 pr-3"},[e("div",{staticClass:"pb"},[e("span",{staticClass:"qiong-txt-16 txt-txt_x3 fw-b",class:{"txt-sec_son":t.now.id==t.c_item.chronu.id}},[e("v-icon",{attrs:{size:"14",color:"op-60"}},[t._v("mdi-calendar-multiple")]),t._v("  "+t._s(t.c_item.chronu.display_name)+"\n        ")],1),t._v(" "),t.now.id!=t.c_item.chronu.id?e("button",{staticClass:"fw-b py-2 px-5 float-right btn-sec-hov",on:{click:t.choiseIt}},[t._v("確認選擇")]):t._e()]),t._v(" "),e("nav",{staticClass:"pl-6 pt-3 txt-sus"},[e("div",{staticClass:"chronu_start"},[t._v("\n            開始： "+t._s(t.view.ser_timed(t.c_item.chronu.start,!0))+"\n        ")]),t._v(" "),e("div",{staticClass:"chronu_end pt-1"},[t._v("\n            結束： "+t._s(t.view.ser_timed(t.c_item.chronu.end,!0))+"\n        ")])])])},staticRenderFns:[]};var g=e("VU/8")(f,p,!1,function(t){e("Lo9w")},"data-v-28f3d5e6",null).exports,w={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",[n("div",{staticClass:"qiong-gradient-line"})])}]};var b={components:{QiongGradientLine:e("VU/8")({name:"",data:function(){return{}}},w,!1,function(t){e("xhc2")},"data-v-64c2bf1c",null).exports},name:"",props:{months:{type:Array}},data:function(){return{year:"",now_month:[],def_m:[1,2,3,4,5,6,7,8,9,10,11,12],active_id:"",active_year:1998}},mounted:function(){new Date;this.active_id=this.$store.state.chronus.id,this.tapYear(this.$store.state.chronus.end.substring(0,4))},methods:{tapYear:function(t){var n=this;this.months.map(function(e){var r=e.year;if(t==r){var s=e[r];n.now_month=s}}),this.active_year=t,this.uploadNowMonth()},uploadNowMonth:function(){this.$emit("nowmonth_Father",this.now_month)},uploadChronu:function(t){this.$emit("chronu_Father",t)}}},x={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[t._l(t.months,function(n,r){return e("div",{key:r,staticClass:"qiong-pt-10 d-inline"},[e("button",{staticClass:"btn-chronu btn-chronu-year",class:{"btn-chronu-year_active":n.year==t.active_year},on:{click:function(e){return t.tapYear(n.year)}}},[t._v("\n            "+t._s(n.year)+"\n        ")])])}),t._v(" "),e("qiong-gradient-line",{staticClass:"qiong-pt-10"}),t._v(" "),t.now_month.length>0?e("div",{staticClass:"qiong-pt-15"},t._l(t.now_month,function(n,r){return e("button",{key:r,staticClass:"btn-chronu qiong-txt-12",class:{"btn-chronu-active":n.chronu_id==t.active_id},on:{click:function(e){return t.uploadChronu(n.chronu)}}},[t._v("\n            "+t._s(t.view.backend.view_month(n.month))+"\n        ")])}),0):t._e()],2)},staticRenderFns:[]};var C=e("VU/8")(b,x,!1,function(t){e("J7Nu")},"data-v-f99d2a52",null).exports,$=e("PJh5"),y=e.n($),k={components:{ChronusItem:m,QiongLoading:d.a,ChronuTitlePart:C,ChronuItemPart:g,QiongSpace:h.a},name:"",data:function(){return{chronus:[],loading:!0,ct:[],now_chronu:[]}},mounted:function(){var t=this;return i()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.simpleInit();case 2:case"end":return n.stop()}},n,t)}))()},methods:{simpleInit:function(){var t=this;return i()(s.a.mark(function n(){var e;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e=window.sessionStorage.getItem("sandyy_chronus"))){n.next=11;break}return e=JSON.parse(e),n.next=5,t.trashNew(e);case 5:e=(e=n.sent).map(function(n){return t.ser_chornu(n,!1)}),t.ser_title(e),t.loading=!1,n.next=13;break;case 11:return n.next=13,t.chronusLoading();case 13:case"end":return n.stop()}},n,t)}))()},trashNew:function(t){var n=this;return i()(s.a.mark(function e(){var r,a;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],a=y()(new Date),t.map(function(t){return y()(t.start)<a&&r.push(t),t}),n.abrupt("return",r.map(function(t){return t.end_origin=t.end,t.end=t.end_date,t.start_origin=t.start,t.start=t.start_date,t}));case 4:case"end":return n.stop()}},e,n)}))()},chronusLoading:function(){var t=this;return i()(s.a.mark(function n(){var e;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.conn.get(t.api.chronus,t.$store.state.token,{_sort:"start:DESC",_limit:999});case 2:if(!(e=n.sent)){n.next=12;break}return n.next=6,t.trashNew(e);case 6:e=(e=n.sent).map(function(n){return t.ser_chornu(n,!0)}),t.chronus=e.sort(function(n,e){return t.view.sort_time(n,e)}),window.sessionStorage.setItem("sandyy_chronus",l()(e)),t.ser_title(e),t.loading=!1;case 12:case"end":return n.stop()}},n,t)}))()},ser_chornu:function(t,n){try{delete t.orders,delete t.bonuses,delete t.commissions,delete t.bonus_calculations}catch(t){}return this.ct.push(c()(t.end.substring(0,4))),t},ser_title:function(t){var n=this;this.ct=this.ct.filter(function(t,e){return n.ct.indexOf(t,0)===e}),this.ct=this.ct.map(function(n){var e={year:n};return e[n+""]=[],t.map(function(t){var r=t.end.substring(0,4),s=t.end.substring(5,8);n==r&&e[r].push({month:c()(s),chronu_id:t.id,chronu:t})}),e})},changeSuccess:function(t){var n=this;this.$store.commit("saveLoading",!0),setTimeout(function(e){n.$store.commit("saveChronus",[t,!0]),n.$store.commit("saveSponsor",null),n.$store.commit("saveEnroller",null),n.$store.commit("saveCollection",null),n.$store.commit("saveTreeSponsor",null),n.$store.commit("saveTreeEnroller",null),n.$store.commit("saveBonusQualifyLine",null),n.$store.commit("saveLoading",!1)},300)},nowChronu:function(t){this.now_chronu=t}}},N={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("v-container",{staticClass:"h-100 chronu-panel qiong-txt-14",attrs:{fluid:""}},[e("v-row",{staticClass:"mt-2"},[e("v-col",{attrs:{cols:"1"}}),t._v(" "),e("v-col",{attrs:{cols:"12",sm:10}},[e("div",{staticClass:"qiong-txt-24 qiong-txt-primary-dark pb-3"},[t._v("\n                結算月份\n            ")]),t._v(" "),t.loading?t._e():e("chronu-title-part",{attrs:{months:t.ct},on:{nowmonth_Father:t.nowChronu,chronu_Father:t.changeSuccess}})],1),t._v(" "),e("v-col",{attrs:{cols:"1"}})],1),t._v(" "),t.loading?e("v-row",[e("v-col",{attrs:{col:"12"}},[e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("br"),t._v(" "),e("qiong-loading",{attrs:{bigger:1}})],1)],1):e("v-row",[e("v-col",{attrs:{cols:"2"}}),t._v(" "),e("v-col",{attrs:{cols:"12",sm:8}},[e("qiong-space",{staticClass:"qiong-pt-5 mobie-hide"}),t._v(" "),e("div",{staticClass:"pb-2"},t._l(t.now_chronu,function(n,r){return e("div",{key:r,staticClass:"my-5 chronu-item"},[e("chronu-item-part",{attrs:{c_item:n},on:{sign_Father:t.changeSuccess}}),t._v(" "),r==n.length-1?e("v-divider"):t._e()],1)}),0)],1),t._v(" "),e("v-col",{attrs:{col:"2"}})],1)],1)},staticRenderFns:[]};var E=e("VU/8")(k,N,!1,function(t){e("XUAK")},"data-v-6c227f2a",null).exports,T={name:"",props:{id:{type:String}},data:function(){return{}},methods:{productLoading:function(){var t=this;return i()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.conn.get(t.api.products,t.$store.state.token,{_limit:999});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},n,t)}))()}}},F={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var L=e("VU/8")(T,F,!1,function(t){e("pNOO")},"data-v-31c1b788",null).exports,O={name:"",props:{active:{type:Boolean},username:{type:String}},data:function(){return{lock_pic:e("aicC")}}},S={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.active?t._e():e("div",{staticClass:"active-shimmer as-pos-fix"},[e("div",{staticClass:"qiong-txt-22 text-center"},[e("div",{staticClass:"lock_panel"},[e("img",{staticClass:"w-full",attrs:{src:t.lock_pic}})]),t._v(" "),e("div",{staticClass:"w-full fw-b"},[t._v("\n            "+t._s(t.$t("CONTENT.ice_1"))),e("br"),t._v("\n            "+t._s(t.$t("CONTENT.ice_2"))+"\n            "+t._s(t.$t("CONTENT.ice_3"))+"\n            "+t._s(t.$t("CONTENT.ice_4"))+"\n        ")]),t._v(" "),e("div",{staticClass:"w-full qiong-pt-10 qiong-txt-primary"},[e("div",{staticClass:" fw-b kfb_title"},[t._v("\n                "+t._s(t.$t("CONTENT.ice_3"))+"\n            ")]),t._v(" "),e("div",{staticClass:"qiong-txt-16"},[t._v("\n                "+t._s(t.$t("CONTENT.email"))+": \n                "),e("span",{},[t._v("\n                    "+t._s(t.conf.SYSTEM.email)+"\n                ")]),t._v(" "),e("br"),t._v("\n                "+t._s(t.$t("CONTENT.whatsapp"))+": \n                "),e("span",{},[t._v("\n                    "+t._s(t.conf.SYSTEM.whatsapp)+"\n                ")])])])])])},staticRenderFns:[]};var q=e("VU/8")(O,S,!1,function(t){e("2rio")},"data-v-329e17fd",null).exports,R={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var U=e("VU/8")({name:"",data:function(){return{}},mounted:function(){this.$emit("loading_Father")}},R,!1,function(t){e("NT/l")},"data-v-09573710",null).exports,I={name:"",data:function(){return{}},methods:{_ser_result:function(t){var n=this;return t.map(function(t){var e=t.individual_pv;return e=e||0,t.is_active=n.bonus.conf.USER_PV_LIMIT<=e,t.individual_pv=e,t.organization_pv=t.organization_pv?t.organization_pv:0,t})},_condition:function(t){var n=this.$store.state.user_backend.member_code,e=(t=y()(t).add(10,"days")).format("MM");return e=e?c()(e):e,{member_code:n,year:t=t.format("YYYY"),month:e}},lunch_Line_now:function(){var t=this;return i()(s.a.mark(function n(){var e,r;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.$store.state.chronus_now.start,r=t._condition(e),n.prev=2,n.next=5,t.conn.get(t.api.browse_bonus,t.$store.state.token,r);case 5:r=(r=n.sent)&&r.message?t._ser_result(r.message):[],n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),r=[];case 12:return n.abrupt("return",r);case 13:case"end":return n.stop()}},n,t,[[2,9]])}))()},lunch_Line:function(t){var n=this;return i()(s.a.mark(function e(){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||n.$store.state.chronus.start,r=n._condition(t),e.prev=2,e.next=5,n.conn.get(n.api.browse_bonus,n.$store.state.token,r);case 5:r=(r=e.sent)&&r.message?n._ser_result(r.message):[],e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),r=[];case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}},e,n,[[2,9]])}))()}}},V={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]};var M=e("VU/8")(I,V,!1,function(t){e("iO4P")},"data-v-60d5f68b",null).exports,P=e("+MbL"),Y={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"home-bg"},[this._t("menu"),this._v(" "),n("v-main",{staticClass:"content mobie-main"},[this._t("content")],2)],2)},staticRenderFns:[]};var z=e("VU/8")({components:{},name:"",data:function(){return{}}},Y,!1,function(t){e("xuzA")},"data-v-0b55b3cd",null).exports,Q={components:{Chronus:E,QiongLoading:d.a,ProductsLoading:L,ActiveShimmer:q,LoadingTrigger:U,BonusEnrollerLineMe:M,HomeLoading:P.a,HomeLayout:z},name:"",provide:function(){return{reload:this.reload}},created:function(){var t=this.$route.query.menu;this.menu=!t||JSON.parse(t)},watch:{$route:function(t,n){var e=t.path.split("/").length,r=n.path.split("/").length;this.transitionName=e<r?"slide-up":"slide-down",this.transitionName||(this.transitionName="slide-up")}},data:function(){return{alive:!0,menu:!1,member_area:!0,transitionName:null}},mounted:function(){var t=this;return i()(s.a.mark(function n(){return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.init();case 2:t.member_area=!!t.$store.state.user_backend.member_area;case 3:case"end":return n.stop()}},n,t)}))()},methods:{initData:function(){},init:function(){var t=this;return i()(s.a.mark(function n(){var e;return s.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.$refs.productREF.productLoading();case 2:e=n.sent,t.$store.commit("saveProducts",e);case 4:case"end":return n.stop()}},n,t)}))()},reload:function(){this.alive=!1,this.$nextTick(function(){this.alive=!0})}}},A={render:function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("home-layout",[t.$store.state.loading?e("home-loading",{attrs:{slot:"content"},slot:"content"}):e("div",{attrs:{slot:"content"},slot:"content"},[t.$store.state.is_browser?t._e():e("active-shimmer",{attrs:{active:t.member_area}}),t._v(" "),e("transition",{attrs:{name:t.transitionName}},[t.alive?e("router-view"):e("home-loading")],1),t._v(" "),e("products-loading",{ref:"productREF"}),t._v(" "),e("loading-trigger",{on:{loading_Father:t.initData}})],1)],1)},staticRenderFns:[]};var J=e("VU/8")(Q,A,!1,function(t){e("iR7+")},"data-v-f30c354a",null);n.default=J.exports},pNOO:function(t,n){},rpQk:function(t,n){},xhc2:function(t,n){},xuzA:function(t,n){}});
//# sourceMappingURL=3.9bf7ecb10b3bb05618f5.js.map