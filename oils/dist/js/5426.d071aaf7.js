"use strict";(self["webpackChunkoils"]=self["webpackChunkoils"]||[]).push([[5426],{8919:function(t,i,s){s.d(i,{Z:function(){return f}});var e=function(){var t=this,i=t._self._c;return i("div",[t._bs?i("div",{staticClass:"fs-12 qiong-menu-sub"},[i("div",[t._v(" "+t._s(t.$t("CONTENT.self"))+t._s(t.$t("USER.member_pv"))+"："+t._s(t.view.if_def(t._bs.individual_pv,"0"))+" ")]),i("div",{},[t._v(" "+t._s(t.$t("BONUS.NORMAL.team_sell_pv"))+"："+t._s(t.view.if_def(t._bs.organization_pv,"0"))+" ")]),i("div",{},[t._v(" "+t._s(t.$t("BONUS.NORMAL.active_qualified"))+"："+t._s(t.view.if_def(t.son_can_num,"0"))+" ")])]):i("div",{staticClass:"fs-12 qiong-menu-sub"},[i("div",[t._v(" "+t._s(t.$t("CONTENT.self"))+t._s(t.$t("USER.member_pv"))+"：0 ")]),i("div",{},[t._v(" "+t._s(t.$t("BONUS.NORMAL.team_sell_pv"))+"：0 ")]),i("div",{},[t._v(" "+t._s(t.$t("BONUS.NORMAL.active_qualified"))+"：0 ")])]),t.$store.state.user_enroller?i("me-son-can-num",{ref:"scnREF"}):t._e(),i("bonus-enroller-line-me",{ref:"belmREF"})],1)},n=[],a=function(){var t=this,i=t._self._c;return i("div",{staticClass:"btn-tiny_loyalty",on:{click:t.openLoyalty}},[i("v-icon",[t._v("mdi-arrow-right")])],1)},o=[],r=(s(7658),{components:{},name:"",data(){return{}},methods:{openLoyalty(){this.$router.push("/home/buys/loyalty")}}}),_=r,l=s(1001),d=(0,l.Z)(_,a,o,!1,null,"0a0cae4f",null),u=d.exports,c=s(4984),v=s(9079),m=s(6481),h={components:{QiongLoading:m.Z,LoyaltyModalButton:u,MeSonCanNum:v.Z,BonusEnrollerLineMe:c.Z},props:{_bs:{type:Object},_mine:{type:Object}},methods:{async get_son_can_num(){let t=0,i=this.chron;i&&(i=await this.$refs.belmREF.lunch_Line(i.start),i.map((i=>{i.is_active&&(t+=1)})),this.son_can_num=t)}},data(){return{son_can_num:""}},mounted(){this.get_son_can_num()},computed:{chron(){return this.$store.state.chronus_now},loyalty(){return this._mine&&this._mine.lp_wallet?this._mine.lp_wallet.LP_available:0}}},p=h,g=(0,l.Z)(p,e,n,!1,null,"0812282a",null),f=g.exports},3805:function(t,i,s){s.d(i,{Z:function(){return c}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"fs-12"},[i("div",{staticClass:"qiong-td"},[t._bonus?i("div",{staticClass:"qiong-wide-50 pr-0"},[i("div",[t._v(" "+t._s(t.$t("USER.member_code"))+"："+t._s(t.view.if_def(t._bonus.user.member_code))+" ")]),i("div",{staticClass:"txt-capit"},[t._v(" "+t._s(t.$t("USER.member_username"))+"："+t._s(t.view.if_def(t._bonus.user.display_name))+" ")])]):i("div",{staticClass:"qiong-wide-50 pr-0"},[i("div",[t._v(" "+t._s(t.$t("USER.member_code"))+"："+t._s(t._me.member_code)+" ")]),i("div",{staticClass:"txt-capit"},[t._v(" "+t._s(t.$t("USER.member_username"))+"："+t._s(t._me.display_name)+" ")])]),i("div",{staticClass:"qiong-wide-50 pr-0"},[i("lad-bonus",{attrs:{_bs:t._bonus,_mine:t._me}})],1)])])},n=[],a=s(6481),o=s(7081),r=s(8919),_={props:{_bonus:Object,_me:Object},components:{LevelViewing:o.Z,QiongLoading:a.Z,LadBonus:r.Z}},l=_,d=s(1001),u=(0,d.Z)(l,e,n,!1,null,"6028eb48",null),c=u.exports},5426:function(t,i,s){s.d(i,{Z:function(){return y}});var e=function(){var t=this,i=t._self._c;return i("v-list",{staticClass:"px-0",attrs:{nav:"",dense:""}},[t.loading?i("lad-avatar",{attrs:{_avatar:t.face,_need_avatar:t.need_avatar,_bonus:t.bonus,_me:t.mine}}):t._e(),t.loading?i("lad-msg",{staticClass:"qiong-pt-5 mt-1 pl-4 qiong-line-hight-18",attrs:{_bonus:t.bonus,_me:t.mine}}):i("div",{staticClass:"Lad_Three_Line pt-9"},[i("qiong-loading")],1)],1)},n=[],a=s(8919),o=s(3805),r=s(2541),_=s(6481),l=function(){var t=this,i=t._self._c;return i("div",{staticClass:"fs-12 pl-4"},[i("div",{staticClass:"qiong-td d-flex menu-avatar"},[i("div",{staticClass:"qiong-wide-38"},[t.loading?i("div",{staticClass:"def-avatar"}):i("img",{attrs:{src:t.avatar}})]),i("div",{staticClass:"qiong-wide-12"}),i("div",{staticClass:"qiong-wide-25 fi-bottom hight-avatar"},[t.loading?i("div",{staticClass:"def-avatar"}):i("img",{attrs:{src:t.avatar_top}})]),i("div",{staticClass:"qiong-wide-25"})]),t.loading?i("div",{staticClass:"qiong-td mt-1"},[i("div",{staticClass:"qiong-wide-50"},[t._v(" "+t._s(t.$t("CONTENT.now"))+t._s(t.$t("CONTENT.level"))+"："+t._s(t.def_name)+" ")]),i("div",{staticClass:"qiong-wide-50"},[t._v(" "+t._s(t.$t("CONTENT.highest"))+t._s(t.$t("CONTENT.level"))+"："+t._s(t.def_name)+" ")])]):i("div",{staticClass:"qiong-td mt-1"},[i("div",{staticClass:"qiong-wide-50"},[t._v(" "+t._s(t.$t("CONTENT.now"))+t._s(t.$t("CONTENT.level"))+"："+t._s(t.level)+" ")]),i("div",{staticClass:"qiong-wide-50"},[t._v(" "+t._s(t.$t("CONTENT.highest"))+t._s(t.$t("CONTENT.level"))+"："+t._s(t.level_top)+" ")])])])},d=[],u=s(7081),c=s(8947),v=s(7931),m={name:"",components:{LevelImageViewing:c.Z,LevelViewing:u.Z},props:{_need_avatar:Boolean,_avatar:String,_bonus:Object,_me:Object},data(){return{is_top:!1,def_name:"會員",vip:null,rank:null,vip_code:null,top_vip:null,top_rank:10,top_vip_code:null,loading:!0,media_root:"/static/",def_avatar:"/static/ICONS/vip_member.png"}},mounted(){this.init(),setTimeout((t=>{this.loading=!1}),200)},methods:{init(){this.rank=this._bonus?this._bonus.Rank:0,this.vip_code=this.rank_to_code(this.rank),this.vip=this.code_to_vip(this.vip_code),this.top_rank=this._me.top_rank,this.top_rank?(this.top_rank=Number.parseInt(this.top_rank),this.top_rank=this.top_rank<6?0:this.top_rank):this.top_rank=0,this.top_vip_code=this.rank_to_code(this.top_rank),this.top_vip=this.code_to_vip(this.top_vip_code)},rank_to_code(t){return v.Z.vip_view.rank_to_code(t)},code_to_vip(t){return v.Z.vip_view.vip_now(t)}},computed:{rank_res(){return this.is_top?10:this._bonus.Rank},level_top(){if(this.top_vip)return this.top_vip.nick},avatar_top(){if(this.top_vip){const t=this.media_root+this.top_vip.img;return t}},level(){if(this.vip)return this.vip.name},avatar(){if(this.vip){const t=this.media_root+this.vip.img;return t}}}},h=m,p=s(1001),g=(0,p.Z)(h,l,d,!1,null,"6c149653",null),f=g.exports,b={components:{LadBonus:a.Z,LadMsg:o.Z,QiongGradientLine:r.Z,LadAvatar:f,QiongLoading:_.Z},name:"",props:{id:{type:String,default:""},need_avatar:{type:Boolean,default:!0}},data(){return{face:s(3530),member_code:null,mine:null,bonus:null,_chronus:null,loading:!1}},async mounted(){this.loading=!1;try{this._assign(this.$store.state.user_backend.member_code),this._chronus=await this.chronuLoading(),this._chronus&&(this._chronus=this._chronus[0],await this.bonusLoading(this._chronus.id),await this.meLoading(),this.mine&&(this.loading=!0))}catch(t){this.loading=!0}},methods:{_assign(t=""){this.id?this.member_code=this.id:this.member_code=t},async chronuLoading(){const t=this.view.getToday();return await this.conn.get(this.api.chronus,this.$store.state.token,{"_where[start_lte]":t,"_where[end_gte]":t})},async bonusLoading(t){const i=await this.conn.get(this.api.bonus,this.$store.state.token,{time_period:t,"user.member_code":this.member_code});i&&(this.bonus=i[0])},async meLoading(){const t=await this.conn.get(this.api.users,this.$store.state.token,{member_code:this.member_code});t&&(this.mine=t[0])}}},w=b,C=(0,p.Z)(w,e,n,!1,null,"6a81064c",null),y=C.exports},4984:function(t,i,s){s.d(i,{Z:function(){return u}});var e=function(){var t=this,i=t._self._c;return i("div")},n=[],a=s(6797),o=s.n(a),r={name:"",data(){return{}},methods:{_ser_result(t){return t.map((t=>{let i=t.individual_pv;return i=i||0,t.is_active=this.bonus.conf.USER_PV_LIMIT<=i,t.individual_pv=i,t.organization_pv=t.organization_pv?t.organization_pv:0,t}))},_condition(t){let i=this.$store.state.user_backend.member_code;t=o()(t).add(10,"days");let s=t.format("MM");return s=s?Number.parseInt(s):s,t=t.format("YYYY"),{member_code:i,year:t,month:s}},async lunch_Line_now(){const t=this.$store.state.chronus_now.start;let i=this._condition(t);try{i=await this.conn.get(this.api.browse_bonus,this.$store.state.token,i),i=i&&i.message?this._ser_result(i.message):[]}catch(s){i=[]}return i},async lunch_Line(t){t=t||this.$store.state.chronus.start;let i=this._condition(t);try{i=await this.conn.get(this.api.browse_bonus,this.$store.state.token,i),i=i&&i.message?this._ser_result(i.message):[]}catch(s){i=[]}return i}}},_=r,l=s(1001),d=(0,l.Z)(_,e,n,!1,null,"60d5f68b",null),u=d.exports},2541:function(t,i,s){s.d(i,{Z:function(){return l}});var e=function(){var t=this;t._self._c;return t._m(0)},n=[function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"qiong-gradient-line"})])}],a={name:"",data(){return{}}},o=a,r=s(1001),_=(0,r.Z)(o,e,n,!1,null,"64c2bf1c",null),l=_.exports},8947:function(t,i,s){s.d(i,{Z:function(){return d}});var e=function(){var t=this,i=t._self._c;return i("div",{staticClass:"d-inline"},[-1==t.bigger?i("div",{staticClass:"vip-img-S",class:t.extra_class},[t.result?i("img",{attrs:{src:t.result}}):i("div",{staticClass:"simpler-avatar sa-S"},[t._v(" Lv.0 ")])]):t._e(),2==t.bigger?i("div",{staticClass:"vip-img-XXL",class:t.extra_class},[t.result?i("img",{attrs:{src:t.result}}):i("div",{staticClass:"simpler-avatar sa-XXL"},[t._v(" Lv.0 ")])]):t._e()])},n=[],a=s(7931),o={props:{item:{type:String},def:{type:String,default:"ICONS/vip_simpler_1.png"},bigger:{type:Number,default:-1},extra_class:{type:String}},name:"",data(){return{}},mounted(){},computed:{result(){let t="/static/";if(this.item){let i=a.Z.vip_view.vip_now(this.item);if(i)return t+=i.img,t}return null}}},r=o,_=s(1001),l=(0,_.Z)(r,e,n,!1,null,"75c4649e",null),d=l.exports},7081:function(t,i,s){s.d(i,{Z:function(){return d}});var e=function(){var t=this,i=t._self._c;return null!=t.result?i("div",{staticClass:"level-viewing"},[t._v(t._s(t.result))]):i("div",{staticClass:"level-viewing"},[t._v(t._s(t.def))])},n=[],a=s(7931),o={props:{item:{type:String},def:{type:String,default:"普通成員"}},name:"",data(){return{}},mounted(){},computed:{result(){if(void 0!=this.item&&"undefined_0"!=this.item){let t=a.Z.vip_view.split_code(this.item);return t=a.Z.vip_view.code_to_content(t),t?t.nick:this.def}return null}}},r=o,_=s(1001),l=(0,_.Z)(r,e,n,!1,null,"25a59860",null),d=l.exports},3530:function(t,i,s){t.exports=s.p+"img/FACE.7ebe649b.jpg"}}]);
//# sourceMappingURL=5426.d071aaf7.js.map