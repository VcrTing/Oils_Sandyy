(self["webpackChunkoils"]=self["webpackChunkoils"]||[]).push([[5480],{6519:function(t,e,s){"use strict";s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"pager px-0 an_upper"},[e("li",{on:{click:function(e){return t._next(t.now-1)}}},[t._v("上一頁")]),e("li",{staticClass:"px-2 ml-1",on:{click:function(e){return t._next(1)}}},[e("v-icon",{staticClass:"qiong-txt-14"},[t._v("mdi-chevron-double-left")])],1),e("li",{staticClass:"pager_fly"},[e("input",{attrs:{type:"text",id:"inpREF"},domProps:{value:t.now},on:{change:function(e){return t.go()}}}),e("span",[t._v("/ "+t._s(t.pages))])]),e("li",{staticClass:"px-2 mr-1",on:{click:function(e){return t._next(t.pages)}}},[e("v-icon",{staticClass:"qiong-txt-14"},[t._v("mdi-chevron-double-right")])],1),e("li",{on:{click:function(e){return t._next(t.now+1)}}},[t._v("下一頁")])])},n=[],a={props:{_count:Number,_limit:Number},data(){return{now:1}},watch:{now(t,e){this.$emit("page_Father",(t-1)*this._limit,this._limit*t)}},computed:{pages(){let t=Math.ceil(this._count/this._limit);return t=t||1,t}},methods:{go(t=null){t=t||document.getElementById("inpREF").value,this._next(t)},_next(t){t=null!=t?t:1,t=isNaN(t)?1:t,t=t<=0?this.pages:t,t=t>this.pages?1:t,this.now=t,document.getElementById("inpREF").value=t}}},r=a,o=s(1001),l=(0,o.Z)(r,i,n,!1,null,null,null),c=l.exports},1882:function(t,e,s){"use strict";s.d(e,{Z:function(){return _}});var i=function(){var t=this,e=t._self._c;return e("div")},n=[],a=s(381),r=s.n(a),o={computed:{chronu(){return this.$store.state.chronus}},methods:{loadStore(t){let e=sessionStorage.getItem("oils_loyalty_wallet");return e?(e=JSON.parse(e),e=e.member_code==t?e:null,e):null},async _lunching(t,e){return console.log("LP 积分账户 获取的 Condition =",e),await this.conn.get(this.api.build(this.conf.ENDPOINT.loyalty_wallet,t),this.$store.state.token,e)},_condition(t){return t=t||r()(this.chronu.end).format("yyyy-MM"),{time_period:t,_limit:999,is_issued:!0,_sort:"published_at:asc"}},async lunching(t,e){const s=this;let i=null;return i||(i=await this._lunching(t,this._condition(e)),i&&i.message&&(i=i.message,i.monthlys=i.LP_by_month?s.serial_Monthly(i.LP_by_month):[],i.member_code=t)),i},serial_Monthly(t){let e=[];for(let s in t)t[s].period=s,e.push(t[s]);return e}}},l=o,c=s(1001),d=(0,c.Z)(l,i,n,!1,null,"2775763c",null),_=d.exports},3944:function(t,e,s){"use strict";s.d(e,{Z:function(){return _}});var i=function(){var t=this,e=t._self._c;return e("div",[t.need_top?e("pti-go-top"):t._e(),e("qiong-space",{attrs:{space:t.height}})],1)},n=[],a=s(3480),r=s(6306),o={components:{QiongSpace:r.Z,PtiGoTop:a.Z},name:"",props:{need_top:{type:Boolean,default:!0},height:{type:String,default:"210px"}},data(){return{}}},l=o,c=s(1001),d=(0,c.Z)(l,i,n,!1,null,"02d07b41",null),_=d.exports},2404:function(t,e,s){"use strict";s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"txt-res pt-1"},[1==t._bigger?e("div",{staticClass:"qiong-td fw-b qiong-txt-16 fx-r"},[e("div",{staticClass:"qiong-wide-18 mobie-wide-28 pr-0"},[t._t("content")],2),e("div",{staticClass:"qiong-wide-32 mobie-wide-72 pr-0"},[t._t("txt"),e("span",{staticClass:""},[t._v(" ")])],2),e("div",{staticClass:"qiong-wide-50 mobie-hide"},[t._v(" ")])]):e("div",{staticClass:"qiong-td fw-b qiong-txt-16 my-0 py-0"},[e("div",{staticClass:"qiong-wide-60 mobie-hide"},[t._v(" ")]),e("div",{staticClass:"qiong-wide-30 mobie-wide-80 pr-0"},[t._t("txt"),e("span",{staticClass:""},[t._v(" ")])],2),e("div",{staticClass:"qiong-wide-10 mobie-wide-20 pr-0"},[t._t("content")],2)])])},n=[],a={name:"",props:{_bigger:{type:Number,default:1}}},r=a,o=s(1001),l=(0,o.Z)(r,i,n,!1,null,null,null),c=l.exports},7504:function(t,e,s){"use strict";s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return 1==t.bigger?e("v-row",{staticClass:"pager-header"},[e("v-col",{staticClass:"pl-7",class:t.extra_calss,attrs:{cols:12,sm:4}},[t._t("header")],2),e("v-col",{staticClass:"px-7 fx-r0",class:t.extra_calss,attrs:{cols:12,sm:8}},[t._t("filter")],2)],1):e("v-row",{staticClass:"pager-header"},[e("v-col",{staticClass:"pl-7",class:t.extra_calss,attrs:{cols:12,sm:6}},[t._t("header")],2),e("v-col",{staticClass:"px-7 fx-r0",class:t.extra_calss,attrs:{cols:12,sm:6}},[t._t("filter")],2)],1)},n=[],a={components:{},name:"",props:{bigger:{type:Number,default:1},extra_calss:{type:String}},data(){return{}}},r=a,o=s(1001),l=(0,o.Z)(r,i,n,!1,null,"34ab2fbb",null),c=l.exports},8948:function(t,e,s){"use strict";s.d(e,{Z:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pb-3 fs-r"},[t.need_line?e("div",[1==t.bigger?e("qiong-page-ling"):e("qiong-page-ling",{attrs:{ex_class:"qiong-lineXL"}})],1):t._e(),e("qiong-space",{attrs:{space:"0.2vw"}}),e("qiong-space",{attrs:{space:"0.5vh"}}),e("div",{},[t._t("default")],2),1==t.bigger?e("div",t._l(t.res,(function(s,i){return e("qsr-wrapper",{key:i,attrs:{_bigger:t.bigger}},[e("span",{attrs:{slot:"txt"},slot:"txt"},[t._v(t._s(s.txt)+" ")]),e("span",{attrs:{slot:"content"},domProps:{innerHTML:t._s(s.content)},slot:"content"})])})),1):e("div",{},t._l(t.res,(function(s,i){return e("qsr-wrapper",{key:i,attrs:{_bigger:t.bigger}},[e("span",{attrs:{slot:"txt"},slot:"txt"},[t._v(t._s(s.txt))]),e("span",{attrs:{slot:"content"},domProps:{innerHTML:t._s(s.content)},slot:"content"})])})),1),e("qiong-space",{attrs:{space:"0.2vw"}}),e("qiong-space",{attrs:{space:"0.7vh"}})],1)},n=[],a=s(6648),r=s(6306),o=s(2404),l={props:{res:{type:Array},bigger:{type:Number,default:1},need_line:{type:Boolean,default:!0}},name:"",components:{QiongPageLing:a.Z,QiongSpace:r.Z,QsrWrapper:o.Z},data(){return{test:[{txt:"獎金",content:"HK&nbsp;135.0"},{txt:"獎金",content:"HK&nbsp;135.0"}]}},mounted(){}},c=l,d=s(1001),_=(0,d.Z)(c,i,n,!1,null,"353118a5",null),u=_.exports},3480:function(t,e,s){"use strict";s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"pti-go-top hand",class:{"turn-bown":t.is_down,"turn-up":!t.is_down},on:{click:t.toDis}},[e("v-icon",[t._v(" mdi-arrow-up ")])],1)},n=[],a={name:"",data(){return{is_down:!0,screenH:0,show:!1}},mounted(){this.screenH=window.screen.height,window.addEventListener("scroll",this.handleScroll,!0)},methods:{handleScroll(){let t=document.documentElement.scrollTop||document.body.scrollTop;t>this.screenH-300?this.is_down=!1:this.is_down=!0,this.show=document.body.offsetHeight>this.screenH},toDis(){this.is_down?this.toDown():this.toTop(),this.is_down=!this.is_down},toTop(){let t=document.documentElement.scrollTop||document.body.scrollTop;const e=setInterval((()=>{document.body.scrollTop=document.documentElement.scrollTop=t-=50,t<=0&&(clearInterval(e),this.$emit("finish_Father"))}),10)},toDown(){window.scrollTo(0,document.body.scrollHeight)}}},r=a,o=s(1001),l=(0,o.Z)(r,i,n,!1,null,"0ad07901",null),c=l.exports},2898:function(t,e,s){"use strict";s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return-1==t.bigger?e("div",{staticClass:"loading-small"}):1==t.bigger?e("div",{staticClass:"loading-huge"}):e("div",{staticClass:"loading"})},n=[],a={name:"LoadingSmall",props:{bigger:{type:Number,default:1}}},r=a,o=s(1001),l=(0,o.Z)(r,i,n,!1,null,"30dfa814",null),c=l.exports},882:function(t,e,s){"use strict";s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("div",[t.is_add?e("v-icon",{staticClass:"icon-lp-plus"},[t._v(" mdi-plus ")]):e("v-icon",{staticClass:"icon-lp-minus"},[t._v(" mdi-minus ")]),t._v(" "+t._s(t.lp)+"  "),e("span",{staticClass:"txt-s us"},[t._v("LP")])],1)},n=[],a={name:"",props:{lp:Number,is_add:Boolean},data(){return{}}},r=a,o=s(1001),l=(0,o.Z)(r,i,n,!1,null,"f01180c2",null),c=l.exports},2528:function(t,e,s){"use strict";s.d(e,{Z:function(){return c}});var i=function(){var t=this,e=t._self._c;return e("img",{staticClass:"img",attrs:{src:t.ratio_src}})},n=[],a={name:"",props:{ratio:Number},computed:{ratio_src(){return s(8574)(`./${this.ratio}p.png`)}}},r=a,o=s(1001),l=(0,o.Z)(r,i,n,!1,null,"4e2513d6",null),c=l.exports},7164:function(t,e,s){"use strict";s.r(e),s.d(e,{default:function(){return Ut}});var i=function(){var t=this,e=t._self._c;return e("v-container",{staticClass:"qiong-txt-td",attrs:{fluid:""}},[e("member-msg-widget",{attrs:{_code:t.mine.member_code}}),e("div",{staticClass:"pt-6"}),t.init?t._e():e("loyalty-count-msg",{attrs:{_item:t.my_lps,_page:t.page,_code:t.member_code}}),e("div",{staticClass:"pt-6"},[e("qiong-header-filter",[e("span",{attrs:{slot:"header"},slot:"header"},[1==t.page?e("span",[t._v("LP 入賬總結")]):t._e(),2==t.page?e("span",[t._v("LP 等級概覽")]):t._e()]),e("div",{attrs:{slot:"filter"},slot:"filter"},[e("button",{staticClass:"btn-filter an_lefter",class:{"btn-filter_active":1==t.page},on:{click:function(e){t.page=1}}},[t._v("LP 總結")]),e("button",{staticClass:"btn-filter",class:{"btn-filter_active":2==t.page},on:{click:function(e){t.page=2}}},[t._v("等級概覽")])])]),1==t.page?e("my-feng-record",{staticClass:"mobie-table",attrs:{_item:t.my_lps}}):t._e(),2==t.page?e("my-level-course",{staticClass:"mobie-table",attrs:{_item:t.my_lps}}):t._e()],1),e("div",{staticClass:"pt-6"}),e("qiong-header-filter",[e("div",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("HEADER.loyalty_record")))]),e("lr-header-filter",{staticClass:"mobie-pt-12",attrs:{slot:"filter"},on:{sign_Father:t.fiterLoading},slot:"filter"})],1),e("qiong-panel-element",{staticClass:"mobie-table",attrs:{need_space:!1}},[e("lr-tr",{staticClass:"extra-tr px-7"}),t.loading?e("qiong-loading"):e("lr-data-table",{attrs:{items:t.records}})],1),e("qiong-sub-result",{staticClass:"pr-4",attrs:{res:t.result,bigger:1,need_line:!1}},[e("div",{staticClass:"next-header qiong-txt-14 mb-1"},[t._v("Total")])]),e("qiong-space",{attrs:{space:"5vh"}}),e("qiong-space",{attrs:{space:"5vw"}}),e("loyalty-wallet-me",{ref:"walletREF"}),e("loyalty-records-me",{ref:"recordREF"}),t.mine&&t.mine.member_code?e("tool-ready",{on:{sign:t.initMe}}):t._e(),e("table-pager-footer",{staticClass:"mobie-show"})],1)},n=[],a=function(){var t=this,e=t._self._c;return e("div")},r=[],o=s(381),l=s.n(o),c={computed:{chronu(){return this.$store.state.chronus}},methods:{async _lunching(t,e){return console.log("个人忠诚度积分 条件 Lp Record condition =",e),await this.conn.get(this.api.build(this.conf.ENDPOINT.loyalty_record,t),this.$store.state.token,e)},condition(){const t=l()(this.chronu.end).format("yyyy-MM");return{_limit:999,_sort:"date:DESC",time_period:t}},async lunchingMonthly(t){let e=await this._lunching(t,this.condition());if(e&&e.message)return this.serial_Record(e.message)},async lunching(t){let e=await this._lunching(t,{_limit:999,_sort:"date:DESC"});if(e&&e.message)return this.serial_Record(e.message)},serial_Record(t){let e=0,s=0,i=0;return t.map((t=>(t.LP_difference_ORIGIN=t.LP_difference,t.LP_difference=Math.abs(Number.parseFloat(t.LP_difference)),t.LP_difference_ORIGIN.startsWith("+")?(e=this.view.floatAdd(t.LP_difference,e),t.is_add=!0):t.LP_difference_ORIGIN.startsWith("-")&&(s=this.view.floatAdd(t.LP_difference,s),t.is_add=!1),0==t.issue_date&&(i=this.view.floatAdd(t.LP_difference,i)),t))),{res_in:e,res_ot:s,res_issue:i,records:t}}}},d=c,_=s(1001),u=(0,_.Z)(d,a,r,!1,null,"519d4750",null),p=u.exports,g=s(1882),v=s(9344),h=s(9374),m=s(3944),f=s(7504),w=s(8948),b=s(7116),x=s(6306),y=s(4686),C=function(){var t=this,e=t._self._c;return t.items&&t.items.length>0?e("div",{staticClass:"qiong-line-hight-21 pb-3"},t._l(t.items,(function(s,i){return e("div",{key:i,staticClass:"qiong-td fx-l extra-td py-2 px-7 lp-td-br",class:{"br-none":i==t.items.length-1}},[e("div",{staticClass:"qiong-wide-10 pr-0"},[e("in-money-viewing",{attrs:{status:s.type,is_sue_time:!!s.issue_date}})],1),e("div",{staticClass:"qiong-wide-13 t-l pr-0 pl-3"},[s.order_uuid?e("loyalty-code-viewing",{attrs:{sku:s.order_uuid+""}}):t._e()],1),e("div",{staticClass:"qiong-wide-18 pl-3"},[s.ordered_date?e("span",[t._v(" "+t._s(t.view.ser_timed(s.ordered_date,!1,!1))+" ")]):t._e()]),e("div",{staticClass:"qiong-wide-7"},[t._v(" "+t._s(s.order_pv)+" ")]),e("div",{staticClass:"qiong-wide-10"},[s.LP_percentage?e("span",[t._v(" "+t._s(100*s.LP_percentage)+" % ")]):t._e()]),e("div",{staticClass:"qiong-wide-13"},[e("loyalty-pv-viewing",{staticClass:"fx-l",attrs:{lp:s.LP_difference,is_add:s.is_add}})],1),e("div",{staticClass:"qiong-wide-12"},[s.is_add?e("span",[e("loyalty-issue-date-viewing",{attrs:{_issue:s.issue_date}},[t._v(" "+t._s(s.expire_date)+" ")])],1):t._e()]),e("div",{staticClass:"qiong-wide-17"},[t._v(" "+t._s(s.remark)+" ")])])})),0):e("qiong-empty")},q=[],L=s(2898),Z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qiong-txt-10"},[0==t.typed?e("button",{staticClass:"btn-lp round"},[t._v(" 購買 ")]):1==t.typed?e("button",{staticClass:"btn-lp_out round"},[t._v(" 兌換 ")]):2==t.typed?e("button",{staticClass:"btn-lp_extra round"},[t._v(" 額外 ")]):3==t.typed?e("button",{staticClass:"btn-lp_rego round"},[t._v(" 重啟 ")]):5==t.typed?e("button",{staticClass:"btn-lp_reward round"},[t._v(" 獎賞 ")]):6==t.typed?e("button",{staticClass:"btn-lp_lp_reward round"},[t._v(" LP 獎賞 ")]):e("button",{staticClass:"btn-lp_other round"},[t._v(" 其他 ")])])},P=[],k={name:"",props:{status:String,is_sue_time:Boolean},data(){return{}},computed:{typed(){let t=-1;return this.status&&("issue"==this.status?t=0:"deactivate"==this.status?t=1:"reward"==this.status?t=5:"LP_reward"==this.status&&(t=6)),t}}},R=k,E=(0,_.Z)(R,Z,P,!1,null,"78d928ab",null),M=E.exports,I=function(){var t=this,e=t._self._c;return e("div",{staticClass:"lp-code fx-l"},[e("v-icon",{attrs:{color:"qiong-txt-12"}},[t._v("mdi-cash")]),t._v("  "+t._s(t.sku)+" ")],1)},N=[],F={name:"",props:{sku:String,need_icon:Boolean},data(){return{}}},S=F,Q=(0,_.Z)(S,I,N,!1,null,"1c1982cd",null),T=Q.exports,$=function(){var t=this,e=t._self._c;return 0!=t._issue?e("div",[t._t("default")],2):e("div",{staticClass:"cr-rego"},[t._v(" 未過賬 ")])},H=[],O={props:["_issue"]},D=O,G=(0,_.Z)(D,$,H,!1,null,"94349ab8",null),A=G.exports,V=s(882),B={components:{InMoneyViewing:M,LoyaltyPvViewing:V.Z,LoyaltyCodeViewing:T,QiongEmpty:L.Z,LoyaltyIssueDateViewing:A},name:"",props:{items:{type:Array,default:[]}},mounted(){}},W=B,j=(0,_.Z)(W,C,q,!1,null,"6bdbdbcc",null),K=j.exports,U=function(){var t=this,e=t._self._c;return e("div",[e("qiong-header",[t._v(" 用戶忠誠度總覽 ")]),e("qiong-panel-element",{attrs:{need_space:!1,extra_class:"mh-s"}},[e("qiong-space",{attrs:{space:"2vh"}}),e("v-row",{staticClass:"px-7 t-c qiong-pt-15 pb-2"},t._l(t.result,(function(s,i){return e("v-col",{key:i,class:{"act-sec":i==t._page},attrs:{sm:4,cols:12}},[e("nav",{staticClass:"taped"},[e("p",{staticClass:"tap-header op-90 pb-3 txt-txt_x3",class:{"txt-sec":i==t._page}},[t._v(t._s(s.txt))]),e("div",{staticClass:"tap-content txt-txt_x3",class:{"txt-sec tap-active":i==t._page}},[t._v(" "+t._s(s.content)+" "),e("span",[t._v(" "+t._s(s.unit)+" ")])])])])})),1),e("qiong-space",{attrs:{space:"2vh"}})],1)],1)},J=[],X=s(8884),z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"expan expan-normal"},[e("div",{staticClass:"expan-header",on:{click:function(e){t.show=!t.show}}},[t._v(" 查看全部回饋比例 "),t.show?e("v-icon",[t._v(" mdi-chevron-up ")]):e("v-icon",[t._v(" mdi-chevron-down ")])],1),e("div",{staticClass:"expan-content",class:{"expan-show":t.show}},[e("loyalty-month-ratio-viewing")],1)])},Y=[],tt=function(){var t=this;t._self._c;return t._m(0)},et=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"loyalty-ratio-viewing"},[e("div",[e("img",{attrs:{src:s(1965)}}),e("p",[t._v("1至3個月")]),e("p",[t._v("10% 比例")])]),e("div",[e("img",{attrs:{src:s(858)}}),e("p",[t._v("4至6個月")]),e("p",[t._v("15% 比例")])]),e("div",[e("img",{attrs:{src:s(8703)}}),e("p",[t._v("7至9個月")]),e("p",[t._v("20% 比例")])]),e("div",[e("img",{attrs:{src:s(2461)}}),e("p",[t._v("10至12個月")]),e("p",[t._v("25% 比例")])]),e("div",[e("img",{attrs:{src:s(1162)}}),e("p",[t._v("13個月以上")]),e("p",[t._v("30% 比例")])])])}],st={name:"",data(){return{}}},it=st,nt=(0,_.Z)(it,tt,et,!1,null,"00e8c7fa",null),at=nt.exports,rt={components:{LoyaltyMonthRatioViewing:at},name:"",data(){return{show:!1}}},ot=rt,lt=(0,_.Z)(ot,z,Y,!1,null,"54b25d4a",null),ct=lt.exports,dt={components:{QiongHeader:X.Z,QiongPanelElement:h.Z,QiongSpace:x.Z,LcmRatioInner:ct},props:["_item","_page"],data(){return{tutal:[{txt:"忠誠客戶月數",content:"0",unit:"個月"},{txt:"賬戶 LP 積分",content:"0",unit:"LP"},{txt:"LP 等級",content:"0",unit:""}]}},computed:{result(){return this._item&&(this.tutal[0].content=this._item.consecutive_month,this.tutal[1].content=this._item.LP_available,this.tutal[2].content=this._item.rank),this.tutal}}},_t=dt,ut=(0,_.Z)(_t,U,J,!1,null,"e5bda10e",null),pt=ut.exports,gt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qiong-txt-12"},t._l(t.tabs,(function(s,i){return e("button",{key:i,staticClass:"btn-filter-pure",class:{"btn-filter-pure-active":t.now==s.v,"txt-txt_x3_red":t.now!=s.v},on:{click:function(e){return t.switching(s.v)}}},[t._v(" "+t._s(s.txt)+" ")])})),0)},vt=[],ht={name:"",data(){return{now:0,tabs:[{txt:"全部",v:0},{txt:"入賬",v:1},{txt:"支出",v:2},{txt:"未過賬",v:3},{txt:"LP 獎賞",v:4}]}},methods:{switching(t){this.now=t;let e={};0!=t?(1==t?e["issue_date"]=!0:2==t?e["is_add"]=!1:3==t?e["issue_date"]=!1:4==t&&(e["type"]="reward-LP_reward"),this.$emit("sign_Father",e)):this.$emit("sign_Father",null)}}},mt=ht,ft=(0,_.Z)(mt,gt,vt,!1,null,"6271ad51",null),wt=ft.exports,bt=function(){var t=this;t._self._c;return t._m(0)},xt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"qiong-tr qiong-txt-tr"},[e("div",{staticClass:"qiong-wide-10"},[t._v(" 獎賞類型 ")]),e("div",{staticClass:"qiong-wide-13 t-l pl-3"},[t._v(" 訂單編號 ")]),e("div",{staticClass:"qiong-wide-18 pl-3"},[t._v(" 下單時間 ")]),e("div",{staticClass:"qiong-wide-7"},[t._v(" PV ")]),e("div",{staticClass:"qiong-wide-10"},[t._v(" LP % ")]),e("div",{staticClass:"qiong-wide-13"},[t._v(" LP 積分 ")]),e("div",{staticClass:"qiong-wide-12"},[t._v(" 積分到期日 ")]),e("div",{staticClass:"qiong-wide-17"},[t._v(" 備註 ")])])}],yt={name:"",data(){return{}}},Ct=yt,qt=(0,_.Z)(Ct,bt,xt,!1,null,"b8e616e0",null),Lt=qt.exports,Zt=function(){var t=this,e=t._self._c;return e("div",{},[e("qiong-panel-element",{staticClass:"panel-second",attrs:{need_space:!1}},[e("qiong-space",{attrs:{space:"2vh"}}),e("div",{staticClass:"px-7 qiong-td qiong-txt-16 pt-3"},[e("qiong-space",{attrs:{space:"0.7vw"}}),e("div",{staticClass:"qiong-wide-23 t-c"},[e("nav",[e("p",{staticClass:"op-80 txt-sec_x3"},[t._v(" 本月獲得 LP ")]),e("h2",{staticClass:"d-ib txt-sec_son qiong-txt-42"},[t._v(" "+t._s(t.lp_month)+" ")])]),e("p",{staticClass:"qiong-txt-10 txt-sus"},[t._v(" ("),e("span",[t._v(t._s(t.view.ser_timed(t.start,!0)))]),t._v(" - "),e("span",[t._v(t._s(t.view.ser_timed(t.end,!0)))]),t._v(" 期間) ")])]),e("div",{staticClass:"qiong-wide-2"}),e("div",{staticClass:"qiong-wide-75 pr-0 mobie-pl-0"},[e("div",{staticClass:"pb-1 fw-b"},[t._v(" 積分每月入賬記錄 ")]),e("div",{staticClass:"hr-thin mt-1"}),e("qiong-space",{attrs:{space:"4vh"}}),t._item&&t.has?e("div",{staticClass:"bg-FFF pt-4 pb-3 pl-8 an_upper"},t._l(t._item.LP_by_month,(function(s,i){return e("div",{key:i,staticClass:"qiong-td lh-21 qiong-txt-12",class:{"txt-txt_son fw-b":t.is_now(i)}},[e("div",{staticClass:"qiong-wide-62",class:{"txt-sub":s.LP_remaining<=0}},[t._v(" "+t._s(t.view.ser_timed(i,!0).substring(0,8))+"份 ")]),e("div",{staticClass:"qiong-wide-38",class:{"txt-sub":s.LP_remaining<=0}},[t._v(" 獲得 "+t._s(s.LP_remaining)+" LP ")])])})),0):e("div",{staticClass:"panel-c an_upper"},[e("qiong-empty",{attrs:{bigger:0}})],1)],1)],1),e("qiong-space",{attrs:{space:"4vh"}})],1)],1)},Pt=[],kt=s(6519),Rt={props:["_item"],components:{QiongPanelElement:h.Z,QiongSpace:x.Z,QiongEmpty:L.Z,Pagenation:kt.Z},computed:{has(){let t=this._item.LP_by_month;if(t)for(let e in t)return!0},start(){return this.$store.state.chronus.start},end(){return this.$store.state.chronus.end},lp_month(){let t=0;if(this._item&&this._item.LP_by_month)for(let e in this._item.LP_by_month)if(this.is_now(e)){let s=this._item.LP_by_month[e].LP_remaining;t=this.view.floatAdd(s||0,t)}return t}},methods:{is_now(t){return this.view.timeCompare(t,this.start)&&!this.view.timeCompare(t,this.end)}}},Et=Rt,Mt=(0,_.Z)(Et,Zt,Pt,!1,null,"1562019c",null),It=Mt.exports,Nt=function(){var t=this,e=t._self._c;return e("div",[e("qiong-panel-element",{staticClass:"panel-second",attrs:{need_space:!1}},[e("qiong-space",{attrs:{space:"2vh"}}),e("div",{staticClass:"px-7 qiong-td qiong-txt-16 pt-3"},[e("qiong-space",{attrs:{space:"0.7vw"}}),e("div",{staticClass:"qiong-wide-15 t-c"},[e("nav",{},[e("p",{staticClass:"op-80 txt-sec_x3"},[t._v(" 現在等級 ")]),e("h2",{staticClass:"d-ib txt-sec_son qiong-txt-42"},[t._v(" "+t._s(t.rk)+" ")])]),e("p",{staticClass:"qiong-txt-10 txt-sus"},[t._v(" "+t._s(100*t.view.backend.view_lp_ratio(t.rk))+"% 積分回饋比例 ")])]),e("div",{staticClass:"qiong-wide-70"},[e("level-course-shower",{attrs:{_now:t.rk}})],1),e("div",{staticClass:"qiong-wide-15"})],1),e("qiong-space",{attrs:{space:"2vh"}})],1)],1)},Ft=[],St=function(){var t=this,e=t._self._c;return e("div",{staticClass:"course-level"},[e("div",{staticClass:"fx-s t-c pt-3"},t._l(t.imgs,(function(s,i){return e("div",{key:i,staticClass:"d-ib cl-item",class:{"cl-item-active":s.level==t._now}},[e("loyalty-ratio-one-viewing",{class:"cl-item_"+i,attrs:{ratio:s.rt}})],1)})),0),e("div",{staticClass:"t-c cl-line-wrapper anime-later"},[e("div",{staticClass:"d-ib cl-line",class:"cl-line_"+t._now},[e("div",{staticClass:"cl-line-runner"})])])])},Qt=[],Tt=s(2528),$t={components:{LoyaltyRatioOneViewing:Tt.Z},name:"",props:["_now"],data(){return{imgs:[{rt:10,level:1},{rt:15,level:2},{rt:20,level:3},{rt:25,level:4},{rt:30,level:5}]}}},Ht=$t,Ot=(0,_.Z)(Ht,St,Qt,!1,null,"2d213fdf",null),Dt=Ot.exports,Gt={name:"",props:["_item"],components:{QiongPanelElement:h.Z,QiongSpace:x.Z,LevelCourseShower:Dt},computed:{rk(){const t=this._item.rank;return t||0}},data(){return{redult:[{in_date:"2021-12-23 23:12",num:23},{in_date:"2021-11-23 23:12",num:999},{in_date:"2021-10-23 23:12",num:13},{in_date:"2021-10-13 23:12",num:13}]}}},At=Gt,Vt=(0,_.Z)(At,Nt,Ft,!1,null,"9fae6d9e",null),Bt=Vt.exports,Wt={name:"",components:{MemberMsgWidget:y.Z,QiongPanelElement:h.Z,QiongHeaderFilter:f.Z,LrHeaderFilter:wt,LrDataTable:K,LrTr:Lt,QiongSpace:x.Z,QiongSubResult:w.Z,LoyaltyCountMsg:pt,QiongLoading:b.Z,LoyaltyRecordsMe:p,TablePagerFooter:m.Z,MyFengRecord:It,MyLevelCourse:Bt,LoyaltyWalletMe:g.Z,ToolReady:v.Z},data(){return{page:1,init:!0,loading:!0,member_code:null,records:[],records_ORIGIN:[],in_res:0,out_res:0,res_res:0,issue_res:0,my_lps:null}},inject:["reload"],watch:{$route(t,e){e.query&&(this.init=!1,this.reload(),this.init=!0)}},computed:{mine(){return this.$store.state.user_backend},result(){let t=[{txt:"總計",content:this.in_res},{txt:"支出",content:this.out_res},{txt:"現可用的積分",content:this.res_res}];return t}},async created(){console.log(" ")},methods:{async initMe(){this.valuation();try{await this.lunchingRecord(),this.my_lps=await this.$refs.walletREF.lunching(this.member_code),console.log("我的 LP 账户 =",this.my_lps)}catch(t){}this.init=!1},valuation(){this.member_code=this.mine.member_code},_runRes(t){this.in_res=t.res_in,this.out_res=t.res_ot,this.issue_res=t.res_issue,t=this.view.floatSub(this.in_res,this.out_res.toFixed(1)),t=t?this.view.floatSub(t,t.res_issue):0,this.res_res=t&&t>0?t:0},async lunchingRecord(){this.loading=!0;let t=await this.$refs.recordREF.lunchingMonthly(this.member_code);t&&(this.records=t.records,this.records_ORIGIN=t.records,this._runRes(t),this.loading=!1)},fiterLoading(t){this.loading=!0;let e=this.records_ORIGIN;t&&(e=this._Filter(t)),e=e.map((t=>(t.LP_difference=t.LP_difference_ORIGIN,t))),e=this.$refs.recordREF.serial_Record(e),this._runRes(e),this.records=e.records,setTimeout((t=>{this.loading=!1}),600)},_Filter(t){return this.records_ORIGIN.filter((e=>{let s=!0;for(let i in t){const n=t[i];"issue_date"==i?s=e.issue_date.toString().startsWith("f")==!n:"type"==i?s=n.indexOf(e.type)>-1:"is_add"==i&&(s=e.is_add==n)}return s}))}}},jt=Wt,Kt=(0,_.Z)(jt,i,n,!1,null,"40bcdb7a",null),Ut=Kt.exports},4686:function(t,e,s){"use strict";s.d(e,{Z:function(){return v}});var i=function(){var t=this,e=t._self._c;return e("div",{},[e("qiong-header",{attrs:{extra_calss:"pl-7"}},[t._v(" "+t._s(t.$t("HEADER.user_msg"))+" ")]),e("qiong-panel-element",{attrs:{need_space:!1,extra_class:"mh-0"}},[e("div",{staticClass:"text-right px-7 qiong-pt-10"},[e("time-msg-viewing")],1),t.has?e("member-msg-header-widget",{staticClass:"px-7",attrs:{_chronu_id:t._chronu,_member_code:t._code}}):e("qiong-loading"),e("qiong-space",{attrs:{space:"1.2vh"}}),e("qiong-space",{attrs:{space:"0.8vw"}})],1)],1)},n=[],a=s(9374),r=s(8884),o=s(7116),l=s(6306),c=s(234),d=s(3137),_={components:{QiongHeader:r.Z,QiongPanelElement:a.Z,MemberMsgHeaderWidget:d.Z,QiongSpace:l.Z,QiongLoading:o.Z,TimeMsgViewing:c.Z},props:["_code","_chronu"],computed:{cotion(){return this.$store.state.user_collection},has(){if(this.cotion&&this.cotion.length>0)return!0}}},u=_,p=s(1001),g=(0,p.Z)(u,i,n,!1,null,null,null),v=g.exports},8574:function(t,e,s){var i={"./10p.png":1965,"./15p.png":858,"./20p.png":8703,"./25p.png":2461,"./30p.png":1162};function n(t){var e=a(t);return s(e)}function a(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}n.keys=function(){return Object.keys(i)},n.resolve=a,t.exports=n,n.id=8574},1965:function(t,e,s){"use strict";t.exports=s.p+"img/10p.38f75ad9.png"},858:function(t,e,s){"use strict";t.exports=s.p+"img/15p.1cfef555.png"},8703:function(t,e,s){"use strict";t.exports=s.p+"img/20p.35155b39.png"},2461:function(t,e,s){"use strict";t.exports=s.p+"img/25p.32fd64c9.png"},1162:function(t,e,s){"use strict";t.exports=s.p+"img/30p.55c2001d.png"}}]);
//# sourceMappingURL=5480.a84d3d81.js.map