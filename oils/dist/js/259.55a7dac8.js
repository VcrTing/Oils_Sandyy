(self["webpackChunkoils"]=self["webpackChunkoils"]||[]).push([[259],{1373:function(t,s,i){"use strict";i.d(s,{Z:function(){return c}});var e=function(){var t=this,s=t._self._c;return s("img",{staticClass:"img",attrs:{src:t.ratio_src}})},n=[],a={name:"",props:{ratio:Number},computed:{ratio_src(){return i(8574)(`./${this.ratio}p.png`)}}},o=a,r=i(1001),l=(0,r.Z)(o,e,n,!1,null,"4e2513d6",null),c=l.exports},8484:function(t,s,i){"use strict";i.r(s),i.d(s,{default:function(){return Zt}});i(7658);var e=function(){var t=this,s=t._self._c;return s("v-container",{staticClass:"qiong-txt-td",attrs:{fluid:""}},[s("div",{staticClass:"py-4 mx-4"},[s("p",{staticClass:"qiong-txt-tr"},[s("span",{staticClass:"txt-sub a-hover",on:{click:function(s){return t.$router.push("inventory")}}},[t._v("庫存列表")]),s("span",{staticClass:"txt-sub px-1 op-80"},[t._v("/")]),s("span",{staticClass:"fw-b"},[t._v("產品詳情")])])]),s("qiong-header",[t._v(" 產品詳情 ")]),s("qiong-panel-element",{attrs:{need_space:!1}},[s("div",{staticClass:"py-3 px-7 qiong-pt-10"},[t.loading?t._e():s("pro-detail",{staticClass:"mt-4",attrs:{pro:t.product}})],1)]),s("qiong-space",{attrs:{space:"24px"}}),s("div",{staticClass:"for-row"},[s("div",{staticClass:"panel-pure"},[s("div",{staticClass:"panel-pure-header fx-s"},[s("div",{staticClass:"py-1 txt-txt"},[t._v("購買後獲得LP點數")])]),s("pro-level-lp",{attrs:{_edit:t.edit_lp}})],1),t.$store.state.is_admin?s("div",{staticClass:"panel-pure"},[s("div",{staticClass:"panel-pure-header fx-s mobie-td"},[s("div",{staticClass:"txt-txt"},[t._v("產品庫存")]),s("div",{staticClass:"t-r"},[s("pro-i-top",{on:{plus_Father:()=>t.$refs.piREF.plus_open()}})],1)]),t.invent?s("pro-inventory",{ref:"piREF",attrs:{ivs:t.invent,pro:t.product}}):t._e()],1):t._e()]),s("div",{staticClass:"pti-go-pdf hand",on:{click:function(s){return t.$router.go(-1)}}},[s("v-icon",[t._v("mdi-chevron-left")])],1),s("net-inventory",{ref:"netInvensREF"}),s("table-pager-footer")],1)},n=[],a=i(4221),o=i(3655),r=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"qiong-td ps-r"},[s("div",{staticClass:"qiong-wide-23 mobie-wide-38 pr-0"},[t.pro&&t.pro.product_image?s("img",{staticClass:"img",attrs:{src:t.pro.product_image}}):s("div",{staticClass:"img-inset fx-c"})]),s("div",{staticClass:"qiong-wide-4"}),s("qiong-space",{staticClass:"mobie-show",attrs:{space:"24px"}}),s("div",{staticClass:"qiong-wide-73 mobie-wide-100 pr-0"},[s("qiong-space",{attrs:{space:"2vw"}}),t.pro?s("div",{staticClass:"qiong-td mobie-td"},[s("div",{staticClass:"qiong-wide-32"},[s("pd-title-with-cont",{attrs:{header:"產品中文名"}},[t._v(" "+t._s(t.pro.translation[1].product_name)+" ")])],1),s("div",{staticClass:"qiong-wide-38"},[s("pd-title-with-cont",{attrs:{header:"產品英文名"}},[t._v(" "+t._s(t.pro.translation[0].product_name)+" ")])],1),s("div",{staticClass:"qiong-wide-30 h-fill"},[s("pd-title-with-cont",{attrs:{header:"SKU"}},[t._v(" "+t._s(t.pro.sku)+" ")])],1)]):t._e(),s("qiong-space",{attrs:{space:"2vw"}}),s("div",{staticClass:"qiong-td"},[s("div",{staticClass:"qiong-wide-32 mobie-wide-45"},[s("pd-title-with-cont",{attrs:{header:"PV"}},[t._v(" "+t._s(t.pro.pv)+" ")])],1),s("div",{staticClass:"qiong-wide-68 mobie-wide-50"},[s("pd-title-with-cont",{attrs:{header:"單價"}},[s("span",{staticClass:"mr-3"},[t._v(" HK$ "+t._s(t.pro.price)+" ")]),s("span",{staticClass:"kill fw-n qiong-txt-14 pl-1 txt-sub"},[s("qiong-space",{staticClass:"mobie-show",attrs:{space:"0px"}}),t._v(" 原價 "+t._s(t.pro.retail_price)+" ")],1)])],1)])],1),s("qiong-space",{staticClass:"mobie-show",attrs:{space:"7vw"}})],1),s("pdf-index",{ref:"pdfREF",attrs:{page:"product_info"}})],1)},l=[],c=i(934),p=i(3943),d=function(){var t=this,s=t._self._c;return s("div",{staticClass:"pro-txt-cont"},[s("p",{staticClass:"qiong-txt-14 txt-sub",domProps:{innerHTML:t._s(t.header)}}),s("div",{staticClass:"qiong-txt-20 fw-b qiong-pt-2 txt-cold-dark mt-1"},[t._t("default")],2)])},u=[],v={props:["header"]},g=v,_=i(1001),m=(0,_.Z)(g,d,u,!1,null,"44d17e26",null),f=m.exports,h={name:"",components:{PdTitleWithCont:f,QiongSpace:c.Z,PdfIndex:p.Z},props:["pro"],mounted(){},data(){return{}},methods:{printed(){this.$refs.pdfREF.printed()}}},x=h,w=(0,_.Z)(x,r,l,!1,null,"197d8a3a",null),C=w.exports,q=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"fx-s qiong-pt-10 qiong-txt-14 ex-row"},t._l(t.shower,(function(i,e){return s("div",{key:e,staticClass:"lpi-num"},[s("span",[t._v(" "+t._s(i.txt)+":  ")]),s("span",[t._v(" "+t._s(i.num)+" ")])])})),0),s("div",{staticClass:"qiong-pt-10 mt-1 mobie-table-simple"},[s("div",{staticClass:"qiong-primay-bg-title py-2 table-in-bg-title"},[s("qiong-space",{attrs:{space:"0.4vw"}}),s("pro-i-tr")],1),s("div",{staticClass:"qiong-line-hight-14 tb-br"},[s("pro-i-body",{ref:"pibREF"})],1)])])},b=[],y=function(){var t=this,s=t._self._c;return s("div",{staticClass:"qiong-td-hui ps-r proi-table pb-4"},[s("qiong-space",{attrs:{space:"0.5vw"}}),t.plus?s("pro-i-plus",{class:{"iitw-active":t.plus,"iitw-hide":!t.plus},on:{cancel_Father:()=>t.plus=!1}}):t._e(),t.items&&t.items.length>0?s("div",t._l(t.items,(function(i,e){return s("div",{key:e,staticClass:"qiong-td fx-l pb-1 qiong-pt-10"},[s("div",{staticClass:"qiong-wide-15 qiong-pl-20"},[t._v(" "+t._s(i.cate)+" ")]),s("div",{staticClass:"qiong-wide-12"},[t._v(" "+t._s(i.shop)+" ")]),s("div",{staticClass:"qiong-wide-12"},[t._v(" "+t._s(i.num)+" ")]),s("div",{staticClass:"qiong-wide-15"},[t._v(" "+t._s(i.timed)+" ")]),s("div",{staticClass:"qiong-wide-16"},[t._v(" "+t._s(i.change_by)+" ")]),s("div",{staticClass:"qiong-wide-30"},[t._v(" "+t._s(i.mark)+" ")])])})),0):s("qiong-empty")],1)},Z=[],k=i(3233),P=i(7126),E=function(){var t=this,s=t._self._c;return s("div",{staticClass:"input-in-table-wrapper time"},[s("div",{staticClass:"qiong-td fx-l pb-4 pt-5"},[s("div",{staticClass:"qiong-wide-15 qiong-pl-20"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.funnel.cate,expression:"funnel.cate"}],on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.funnel,"cate",s.target.multiple?i:i[0])}}},t._l(t.cate,(function(i,e){return s("option",{key:e,domProps:{value:i.v}},[t._v(" "+t._s(i.txt)+" ")])})),0)]),s("div",{staticClass:"qiong-wide-12"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.funnel.shop,expression:"funnel.shop"}],on:{change:function(s){var i=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.funnel,"shop",s.target.multiple?i:i[0])}}},t._l(t.shop,(function(i,e){return s("option",{key:e,domProps:{value:i.v}},[t._v(" "+t._s(i.txt)+" ")])})),0)]),s("div",{staticClass:"qiong-wide-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.funnel.num,expression:"funnel.num"}],attrs:{type:"text",placeholder:"請輸入"},domProps:{value:t.funnel.num},on:{input:function(s){s.target.composing||t.$set(t.funnel,"num",s.target.value)}}})]),s("div",{staticClass:"qiong-wide-15 input-time"},[t._v(" (自動獲取當前時間) ")]),s("div",{staticClass:"qiong-wide-16"},[t._v(" 更改人員 ")]),s("div",{staticClass:"qiong-wide-18"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.funnel.mark,expression:"funnel.mark"}],attrs:{type:"text",placeholder:"請輸入"},domProps:{value:t.funnel.mark},on:{input:function(s){s.target.composing||t.$set(t.funnel,"mark",s.target.value)}}})]),s("div",{staticClass:"qiong-wide-12 t-r"},[s("button",{staticClass:"submit btn-save fw-b"},[t._v(" 儲存 ")]),s("button",{staticClass:"btn-cancel ml-3 txt-sub",on:{click:function(s){return t.$emit("cancel_Father")}}},[t._v(" 關閉 ")])])])])},$=[],L=i(4711),S={components:{DateSelect:L.Z},name:"",computed:{cate(){return[{txt:"加貨",v:1},{txt:"減貨",v:2},{txt:"壞貨",v:3},{txt:"換貨",v:4},{txt:"店鋪樣品消耗",v:5}]},shop(){return[{txt:"尖沙咀倉庫",v:"尖沙咀"},{txt:"火炭倉庫",v:"火炭"}]}},data(){return{funnel:{cate:1,shop:"尖沙咀",num:null,timed:"",mark:"",change_by:""},loading:!0}},mounted(){this.reset()},methods:{reset(){this.loading=!0,this.mark="",this.num=null,this.change_by="",this.funnel.cate=1,this.funnel.shop="尖沙咀",this.funnel.timed=this.view.getToday(),this.loading=!1}}},F=S,I=(0,_.Z)(F,E,$,!1,null,"c8e0b1ae",null),T=I.exports,O={components:{QiongSpace:c.Z,ProIPlus:T,CompanyNamedViewing:P.Z,QiongEmpty:k.Z},name:"",mounted(){},data(){return{plus:!1,items:null}}},Q=O,N=(0,_.Z)(Q,y,Z,!1,null,"2071f948",null),R=N.exports,H=function(){var t=this,s=t._self._c;return s("div",{staticClass:"fx-s fw-b",staticStyle:{"align-items":"flex-end"}},[s("div",t._l(t.tabs,(function(i,e){return s("button",{key:e,staticClass:"btn-filter-pure qiong-txt-12",class:{"btn-filter-pure-active":t.now==i.tab,"txt-txt_x3_red":t.now!=i.tab},on:{click:function(s){t.now=i.tab}}},[t._v(" "+t._s(i.txt)+" ")])})),0)])},M=[],D={name:"",data(){return{now:0,tabs:[{txt:"全部",tab:0},{txt:"加貨",tab:1},{txt:"減貨",tab:2},{txt:"壞貨",tab:3},{txt:"換貨",tab:4},{txt:"店鋪樣品消耗",tab:5}]}}},V=D,K=(0,_.Z)(V,H,M,!1,null,"6ee59f49",null),A=K.exports,U=function(){var t=this;t._self._c;return t._m(0)},W=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"qiong-tr qiong-txt-14 txt-txt_x2"},[s("div",{staticClass:"qiong-wide-15 qiong-pl-20"},[t._v(" 類別 ")]),s("div",{staticClass:"qiong-wide-12"},[t._v(" 店鋪 ")]),s("div",{staticClass:"qiong-wide-12"},[t._v(" 數量 ")]),s("div",{staticClass:"qiong-wide-15"},[t._v(" 更新時間 ")]),s("div",{staticClass:"qiong-wide-16"},[t._v(" 更改人員 ")]),s("div",{staticClass:"qiong-wide-30"},[t._v(" 備註 ")])])}],G={name:"",data(){return{}}},J=G,j=(0,_.Z)(J,U,W,!1,null,"0fe81d72",null),B=j.exports,z={components:{ProITop:A,ProITr:B,ProIBody:R,QiongSpace:c.Z},props:["pro","ivs"],data(){return{shower:[{txt:"庫存總數",num:0,sort_code:""},{txt:"尖沙咀庫存總數",num:0,sort_code:""},{txt:"火炭庫存總數",num:0,sort_code:""}]}},mounted(){let t=0;this.shower[2].sort_code=this.conf.STOCK_HT_CODE,this.shower[1].sort_code=this.conf.STOCK_SJJ_CODE,this.shower.map((s=>{this.ivs.location.map((i=>{i.sort_code==s.sort_code&&(s.num=i.quantity,t+=s.num)}))})),this.shower[0].num=t},computed:{lps(){return this.conf.SHOP_LEVEL_LP_IMG}},methods:{plus_open(){this.$refs.pibREF.plus=!0}}},X=z,Y=(0,_.Z)(X,q,b,!1,null,"16208899",null),tt=Y.exports,st=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"mobie-table-simple"},[s("v-row",{staticClass:"pt-3 pu-pro-ll"},t._l(t.lps,(function(i,e){return s("v-col",{key:e,staticClass:"lps-wrapper px-0"},[s("div",{staticClass:"fx-c"},[s("div",{staticClass:"qiong-wide-25"},[t._v(" ")]),s("div",{staticClass:"qiong-wide-50"},[s("loyalty-ratio-one-viewing",{staticClass:"lps-img hand",class:{"lps-img-active":t.now==i.level},attrs:{ratio:i.ratio}})],1),s("div",{staticClass:"qiong-wide-25 lps-i-wrapper"},[e<t.lps.length-1?s("span",{staticClass:"ps-c lps-i-right"}):t._e(),t._v("   ")])]),s("div",{staticClass:"fx-c pb-3"},[s("div",{staticClass:"qiong-wide-25"},[t._v(" ")]),s("div",{staticClass:"qiong-wide-50 lps-bottom"},[s("v-icon",[t._v(" mdi-chevron-down ")])],1),s("div",{staticClass:"qiong-wide-25"},[t._v(" ")])]),s("div",{staticClass:"fx-c qiong-txt-16",class:{"fw-b txt-txt":t.now==i.level,"txt-blue-light":t.now!=i.level}},[t._v(" 獲得 "),t._edit?s("pro-ll-edit",{staticClass:"mx-2",class:{"input-in-simp-active":t._edit},attrs:{_point:i.ratio}}):s("span",[t._v(t._s(i.ratio))]),t._v(" LP ")],1)])})),1)],1)])},it=[],et=i(1373),nt=function(){var t=this,s=t._self._c;return s("div",{staticClass:"d-ib input-in-simp qiong-txt-14"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.point,expression:"point"}],attrs:{type:"text",placeholder:""},domProps:{value:t.point},on:{input:function(s){s.target.composing||(t.point=s.target.value)}}})])},at=[],ot={name:"",props:["_point"],data(){return{point:null}},mounted(){this.point=this._point}},rt=ot,lt=(0,_.Z)(rt,nt,at,!1,null,"51097f76",null),ct=lt.exports,pt={components:{LoyaltyRatioOneViewing:et.Z,ProLlEdit:ct},props:["_edit"],name:"",data(){return{now:3}},computed:{lps(){return this.conf.SHOP_LEVEL_LP_IMG}}},dt=pt,ut=(0,_.Z)(dt,st,it,!1,null,"e115fab0",null),vt=ut.exports,gt=i(1648),_t=i(1304),mt=function(){var t=this,s=t._self._c;return s("div")},ft=[],ht={methods:{async one(t){let s=await this.conn.ex_get(this,"browse_stock",t);return s=s&&s.message?s.message[0]:{},console.log("Invens =",t,s),s}}},xt=ht,wt=(0,_.Z)(xt,mt,ft,!1,null,null,null),Ct=wt.exports,qt={components:{ProDetail:C,ProLevelLp:vt,ProInventory:tt,ProITop:A,TablePagerFooter:a.Z,MemberMsgWidget:o.Z,QiongSpace:c.Z,QiongHeader:gt.Z,QiongPanelElement:_t.Z,NetInventory:Ct},name:"",data(){return{loading:!0,product:{},invent:null,edit_lp:!1}},mounted(){let t=this.$route.query;this.init(t&&t.sku?t.sku:null)},methods:{init(t){this.loading=!0;let s=this.$store.state.products;s=s||[],s=s.filter((s=>t==s.sku)),this.product=s[0]?s[0]:null,this.fetchStock(t),this.loading=!1},async fetchStock(t){this.invent=await this.$refs.netInvensREF.one({sku:t})}}},bt=qt,yt=(0,_.Z)(bt,e,n,!1,null,"71417a84",null),Zt=yt.exports},3655:function(t,s,i){"use strict";i.d(s,{Z:function(){return _}});var e=function(){var t=this,s=t._self._c;return s("div",{},[s("qiong-header",{attrs:{extra_calss:"pl-7"}},[t._v(" "+t._s(t.$t("HEADER.user_msg"))+" ")]),s("qiong-panel-element",{attrs:{need_space:!1,extra_class:"mh-0"}},[s("div",{staticClass:"text-right px-7 qiong-pt-10"},[s("time-msg-viewing")],1),t.has?s("member-msg-header-widget",{staticClass:"px-7",attrs:{_chronu_id:t._chronu,_member_code:t._code}}):s("qiong-loading"),s("qiong-space",{attrs:{space:"1.2vh"}}),s("qiong-space",{attrs:{space:"0.8vw"}})],1)],1)},n=[],a=i(1304),o=i(1648),r=i(6481),l=i(934),c=i(6507),p=i(2565),d={components:{QiongHeader:o.Z,QiongPanelElement:a.Z,MemberMsgHeaderWidget:p.Z,QiongSpace:l.Z,QiongLoading:r.Z,TimeMsgViewing:c.Z},props:["_code","_chronu"],computed:{cotion(){return this.$store.state.user_collection},has(){if(this.cotion&&this.cotion.length>0)return!0}}},u=d,v=i(1001),g=(0,v.Z)(u,e,n,!1,null,null,null),_=g.exports},8574:function(t,s,i){var e={"./10p.png":1965,"./15p.png":858,"./20p.png":8703,"./25p.png":2461,"./30p.png":1162};function n(t){var s=a(t);return i(s)}function a(t){if(!i.o(e,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e[t]}n.keys=function(){return Object.keys(e)},n.resolve=a,t.exports=n,n.id=8574},1965:function(t,s,i){"use strict";t.exports=i.p+"img/10p.38f75ad9.png"},858:function(t,s,i){"use strict";t.exports=i.p+"img/15p.1cfef555.png"},8703:function(t,s,i){"use strict";t.exports=i.p+"img/20p.35155b39.png"},2461:function(t,s,i){"use strict";t.exports=i.p+"img/25p.32fd64c9.png"},1162:function(t,s,i){"use strict";t.exports=i.p+"img/30p.55c2001d.png"}}]);
//# sourceMappingURL=259.55a7dac8.js.map