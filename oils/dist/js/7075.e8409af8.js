"use strict";(self["webpackChunkoils"]=self["webpackChunkoils"]||[]).push([[7075],{638:function(e,t,i){i.d(t,{Z:function(){return l}});var n=function(){var e=this,t=e._self._c;return t("div",{attrs:{startVal:0,endVal:e.res,duration:e.sec}})},s=[],o={components:{},props:{res:{type:Number},sec:{type:Number,default:1800}},name:"",data(){return{}}},r=o,a=i(1001),d=(0,a.Z)(r,n,s,!1,null,"2ac6c8ea",null),l=d.exports},5553:function(e,t,i){i.d(t,{Z:function(){return l}});var n=function(){var e=this,t=e._self._c;return e.rank>e.leader?t("div",{staticClass:"btn-leader-tag"},[e._v(" "+e._s(e.$t("STATUS.leader"))+" ")]):t("span")},s=[],o={name:"",props:{rank:{type:Number}},data(){return{leader:5}},mounted(){this.leader=this.conf.RANK_LEAD,console.log(this.rank)}},r=o,a=i(1001),d=(0,a.Z)(r,n,s,!1,null,"426c8794",null),l=d.exports},1339:function(e,t,i){i.r(t),i.d(t,{default:function(){return j}});var n=function(){var e=this,t=e._self._c;return t("bonus-layout",{attrs:{_root:e.root,_need_top:!e.root}},[e.init?e._e():t("member-msg-widget",{attrs:{_code:e.member_code}}),t("qiong-space",{attrs:{space:"24px"}}),t("qiong-header-filter",[t("div",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("BONUS.NORMAL.usd_team_layer")))])]),t("qiong-panel-element",{staticClass:"mobie-table",attrs:{need_space:!1}},[t("bonus-team-layer-table-header",{ref:"tbHeader",on:{sort_Father:e.sort}}),e.loading?t("qiong-loading"):t("bonus-team-layer-table",{attrs:{childs:e.childrens}})],1),t("qiong-sub-result",{staticClass:"mt-3 px-7",attrs:{res:e.footer,need_line:!1}},[t("div",{staticClass:"next-header"},[e._v("Total")])]),t("location-me",{ref:"locaMe"}),e.init?t("collection-ready",{on:{sign_Father:e.initMe}}):e._e()],1)},s=[],o=(i(7658),i(7931)),r=i(1648),a=i(8667),d=function(){var e=this,t=e._self._c;return e.childs.length>0?t("div",{},e._l(e.childs,(function(i,n){return t("div",{key:n,staticClass:"qiong-td qiong-line-hight-20",class:{"qiong-td-zebra":i.index%2==0}},[t("div",{staticClass:"qiong-wide-13 pl-7"},[e._v(e._s(i.member_code))]),t("div",{staticClass:"qiong-wide-30",class:{"txt-leader":i.bonu_period.Rank>e.conf.RANK_LEAD}},[e._v(e._s(i.display_name))]),t("div",{staticClass:"qiong-wide-9"},[t("level-viewing",{staticClass:"d-inline",class:{"txt-leader":i.bonu_period.Rank>e.conf.RANK_LEAD},attrs:{item:i.vip.name+"_"+i.vip.star}})],1),t("div",{staticClass:"qiong-wide-1 pr-0"},[e._v(" ")]),t("div",{staticClass:"qiong-wide-6 pr-0"},[e._v(e._s(i.bonu_period.team_contribution.order_pv))]),t("div",{staticClass:"qiong-wide-9 text-center pr-0"},[e._v(e._s(i.bonu_period.team_contribution.payment_level))]),t("div",{staticClass:"qiong-wide-10 text-center pr-0"},[t("up-comp-viewing",{attrs:{ipv:i.bonu_period.team_contribution.order_pv}})],1),t("div",{staticClass:"qiong-wide-10 text-center pr-0"},[e._v(e._s(i.bonu_period.team_contribution.bonus_percentage))]),t("div",{staticClass:"qiong-wide-1 pr-0"},[e._v(" ")]),t("div",{staticClass:"qiong-wide-7 pr-0"},[i.bonu_period.team_contribution.bonus_pv?t("div",[t("span",[e._v("$ ")]),e._v(" "+e._s(e.view.price_view(i.bonu_period.team_contribution.bonus_pv))+" ")]):e._e()]),t("div",{staticClass:"qiong-wide-4 pr-0"},[t("qiong-icon-inset",{attrs:{arg:i},on:{done_Father:e.openCenter}})],1)])})),0):t("qiong-empty")},l=[],c=i(638),_=i(7656),u=i(2073),m=i(3233),p=function(){var e=this,t=e._self._c;return t("div",[e.up_comp?t("div",{staticClass:"btn-up_comp"},[t("v-icon",{attrs:{size:"14"}},[e._v("mdi-check")]),e._v(" "+e._s(e.$t("STATUS.yes"))+" ")],1):t("div",{staticClass:"btn-up_comp btn-up_comp_no"},[t("v-icon",{attrs:{size:"14"}},[e._v("mdi-window-close")]),e._v(" "+e._s(e.$t("STATUS.no"))+" ")],1)])},h=[],v={name:"",props:{ipv:{type:Number}},data(){return{}},computed:{up_comp(){return this.ipv>=o.Z.conf.USER_PV_LIMIT}}},b=v,g=i(1001),C=(0,g.Z)(b,p,h,!1,null,"66a83c74",null),f=C.exports,w=i(7081),y=i(5553),q={components:{LevelViewing:w.Z,QiongIconFlat:_.Z,QiongIconInset:u.Z,QiongEmpty:m.Z,UpCompViewing:f,CountAddAnime:c.Z,LeaderTagViewing:y.Z},props:{childs:{type:Array}},name:"",data(){return{}},computed:{},methods:{openCenter(e){this.$router.push({path:"/home/bonus/active_layer/",query:{member_code:e.member_code}})}}},Z=q,x=(0,g.Z)(Z,d,l,!1,null,"a2d38794",null),S=x.exports,$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"qiong-tr qiong-pb-7 qiong-txt-tr"},[t("div",{staticClass:"qiong-wide-13 pl-7"},[e._v(e._s(e.$t("USER.member_code"))+" "),t("sort-filter-trangle",{ref:"sortMemberCode",on:{sort_Father:e.member_code_sort}})],1),t("div",{staticClass:"qiong-wide-30"},[e._v(e._s(e.$t("USER.member_display_name")))]),t("div",{staticClass:"qiong-wide-9"},[e._v(e._s(e.$t("USER.member_level")))]),t("div",{staticClass:"qiong-wide-1"},[e._v(" ")]),t("div",{staticClass:"qiong-wide-6"},[e._v(e._s(e.$t("USER.member_pv")))]),t("div",{staticClass:"qiong-wide-9 text-center"},[e._v(e._s(e.$t("BONUS.PUBLIC.pay_index")))]),t("div",{staticClass:"qiong-wide-10 text-center"},[e._v(e._s(e.$t("BONUS.PUBLIC.up_comp"))+"?")]),t("div",{staticClass:"qiong-wide-10 text-center"},[e._v(e._s(e.$t("BONUS.PUBLIC.usd_ratio")))]),t("div",{staticClass:"qiong-wide-1"},[e._v(" ")]),t("div",{staticClass:"qiong-wide-11"},[e._v(e._s(e.$t("BONUS.PUBLIC.usd")))])])},T=[],L=i(2017),N={components:{SortFilterTrangle:L.Z},name:"",data(){return{}},methods:{resetSort(e){12!=e&&this.$refs.sortMemberCode.rest()},member_code_sort(e){this.$emit("sort_Father",e,12)}}},U=N,A=(0,g.Z)(U,$,T,!1,null,"6b23e2ea",null),R=A.exports,B=i(1304),I=i(3860),M=i(6481),k=i(1204),E=i(3655),P=i(6225),O=i(3434),Q=i(9357),F=i(4359),V=i(7681),D=i(934),H={components:{QiongHeader:r.Z,QiongPagePanel:a.Z,BonusTeamLayerTableHeader:R,BonusTeamLayerTable:S,QiongPanelElement:B.Z,LocationMe:I.Z,QiongLoading:M.Z,QiongSubResult:k.Z,MemberMsgWidget:E.Z,CollectionReady:P.Z,BonusLayout:O.Z,BonuDownTrigger:Q.Z,QiongHeaderFilter:F.Z,GoDownTrigger:V.Z,QiongSpace:D.Z},name:"",inject:["reload"],watch:{$route(e,t){t.query&&(this.init=!1,this.reload(),this.init=!0)}},data(){return{root:!1,init:!0,loading:!0,member_code:null,mine:null,child_num:0,childrens:null}},async mounted(){},computed:{footer(){if(this.mine)return[{txt:this.$t("BONUS.NORMAL.usd_team_layer"),content:"$"+this.mine.bonu_period.OPV.toFixed(2)}]}},methods:{async initMe(){this.valuation(),this.mine=await this.$refs.locaMe.locationMe_Async(this.member_code,"SPONSER"),this.init=!1,this.switchChidren(),await this.numTeamLayer()},valuation(){this.root=!1,this.loading=!0,this.mine=null,this.child_num=0,this.childrens=[];const e=this.$route.query.member_code;e?(this.member_code=e,setTimeout((e=>{this.root=!0}),300)):this.member_code=this.$store.state.user_backend.member_code},switchChidren(){let e=this.$store.state.user_sponsor;e&&o.Z._build([this.mine],(e=>{this.childrens.push(e)})),e&&(e=this.childrens.sort(((e,t)=>e.index-t.index)),this.childrens=e.filter((e=>e.member_code!=this.mine.member_code)))},numTeamLayer(){let e=this;return new Promise(((t,i)=>{let n=[];for(let s of e.childrens){let t=0,i=0;this.child_num+=1;let o=!1;for(let n of e.mine.bonu_period.organisation_bonus)n.member_code==s.member_code&&(s.bonu_period.team_contribution=n,t=this.view.floatAdd(n.order_pv,t),i=this.view.floatAdd(n.bonus_pv,i),o=!0);o?(s.bonu_period.team_contribution.order_pv=t,s.bonu_period.team_contribution.bonus_pv=i):s.bonu_period.team_contribution={bonus_percentage:"",bonus_pv:"",order_pv:0,order_uuid:"",payment_level:""},n.push(s)}e.childrens=n,setTimeout((()=>{e.loading=!1}),200),t(!0)}))},async sort_by_member_code(e){e>0?this.childrens.sort(((e,t)=>{const i=Number.parseInt(e.member_code),n=Number.parseInt(t.member_code);return i-n})):e<0?this.childrens.sort(((e,t)=>{const i=Number.parseInt(e.member_code),n=Number.parseInt(t.member_code);return n-i})):(this.switchChidren(),await this.numTeamLayer())},sort(e,t){0==this.loading&&(this.loading=!0,this.$refs.tbHeader.resetSort(t),12==t&&this.sort_by_member_code(e),setTimeout((e=>{this.loading=!1}),300))}}},z=H,K=(0,g.Z)(z,n,s,!1,null,"eed33c0a",null),j=K.exports}}]);
//# sourceMappingURL=7075.e8409af8.js.map